(this["webpackJsonpmy-class"]=this["webpackJsonpmy-class"]||[]).push([[0],{139:function(e,t,a){e.exports=a(183)},144:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=144},145:function(e,t,a){},180:function(e,t){},183:function(e,t,a){"use strict";a.r(t);var n=a(240),r=a(244),o=a(0),i=a.n(o),c=a(11),l=a.n(c),s=a(87),u=a(21),m=a(13),d=a(7),p=a(12),g=i.a.createContext(),h=i.a.createContext();function b(e,t){switch(t.type){case"LOGIN_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!0});case"SIGN_OUT_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!1});default:throw new Error("Unhandled action type: ".concat(t.type))}}function f(e){var t=e.children,a=i.a.useReducer(b,{isAuthenticated:!!localStorage.getItem("user")}),n=Object(d.a)(a,2),r=n[0],o=n[1];return i.a.createElement(g.Provider,{value:r},i.a.createElement(h.Provider,{value:o},t))}function E(){var e=i.a.useContext(h);if(void 0===e)throw new Error("useUserDispatch must be used within a UserProvider");return e}function v(){return i.a.createElement("div",null,i.a.createElement("div",{id:"video-grid"}))}var O=a(216),w=a(218),j=a(220),x=a(221),S=a(47),k=a.n(S),y=a(71),C=a.n(y),A=a(72),N=a.n(A),B=a(69),F=a.n(B),I=a(70),T=a.n(I),M=a(62),L=a.n(M),W=(a(145),Object(O.a)((function(e){return{appBar:{top:"auto",bottom:0},grow:{float:"right",position:"absolute",right:"30px"},controlBtn:{margin:"5px"},callEndBtn:{margin:"5px",backgroundColor:"red"},video:{height:window.innerHeight-112+"px",width:(window.innerWidth-74)/2+"px"},videoMobile:{height:(window.innerHeight-112)/2+"px",width:window.innerWidth+"px"}}})));function U(){var e,t=Object(m.h)(),a=Object(m.g)(),n=t.id,r=W(),c=Object(o.useState)(),l=Object(d.a)(c,2),s=l[0],u=l[1],p=Object(o.useState)(!0),g=Object(d.a)(p,2),h=g[0],b=g[1],f=Object(o.useState)(!0),E=Object(d.a)(f,2),v=E[0],O=E[1],S=Object(o.useState)(0),y=Object(d.a)(S,1)[0],A=JSON.parse(localStorage.getItem("user")),B=new L.a(A._id,{port:"443",secure:!0,host:"school-peer.herokuapp.com"});function I(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)}function M(t,a){t.srcObject=a,t.addEventListener("loadedmetadata",(function(){t.play()})),e.append(t)}return Object(o.useEffect)((function(){var t;e=document.getElementById("video-grid"),t=A._id,fetch("https://teachit-api.herokuapp.com/teachit/api/v1/user/"+n+"/"+t,{method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e?console.log(e):console.log("unable to inser")})),function(){var e=document.createElement("video");e.setAttribute("class",I()?r.videoMobile:r.video),e.muted=!0,navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(t){u(t),M(e,t),console.log("Call started"),B.on("call",(function(e){console.log("Received the call from source2"),e.answer(t),e.on("stream",(function(e){if(console.log("source2 stream connected"),!document.getElementById(n)){console.log("source1 stream adding to the console");var t=document.createElement("video");t.setAttribute("class",I()?r.videoMobile:r.video),t.setAttribute("id",n),M(t,e)}}))}))}))}()}),[y]),Object(o.useEffect)((function(){return function(){console.log("End")}}),[]),i.a.createElement("div",null,i.a.createElement("div",{className:"row",container:!0},i.a.createElement("div",{id:"video-grid",className:""})),i.a.createElement(w.a,{position:"fixed",color:"primary",className:r.appBar},i.a.createElement(j.a,null,i.a.createElement("div",{className:r.grow},i.a.createElement(x.a,{color:"inherit",onClick:function(){return O(e=!v),void(s.getVideoTracks()[0].enabled=e);var e},edge:"end",className:r.controlBtn},v?i.a.createElement(F.a,null):i.a.createElement(T.a,null)),i.a.createElement(x.a,{edge:"end",color:"inherit",onClick:function(){return b(e=!h),void(s.getAudioTracks()[0].enabled=e);var e},className:r.controlBtn},h?i.a.createElement(C.a,null):i.a.createElement(N.a,null)),i.a.createElement(x.a,{color:"inherit",onClick:function(){return s.getTracks().forEach((function(e){e.stop()})),void a.push("/app/contacts")},edge:"end",className:r.callEndBtn},i.a.createElement(k.a,null))))),i.a.createElement("audio",{className:"audio-element"},i.a.createElement("source",{src:"sample.mp3"})))}var z=Object(O.a)((function(e){return{appBar:{top:"auto",bottom:0},grow:{float:"right",position:"absolute",right:"30px"},controlBtn:{margin:"5px"},callEndBtn:{margin:"5px",backgroundColor:"red"},video:{height:window.innerHeight-112+"px",width:(window.innerWidth-74)/2+"px"},videoMobile:{height:(window.innerHeight-112)/2+"px",width:window.innerWidth+"px"}}}));function D(){var e,t=Object(m.g)(),a=Object(m.h)().id,n=z(),r=Object(o.useState)(),c=Object(d.a)(r,2),l=c[0],s=c[1],u=Object(o.useState)(!0),p=Object(d.a)(u,2),g=p[0],h=p[1],b=Object(o.useState)(!0),f=Object(d.a)(b,2),E=f[0],v=f[1],O=Object(o.useState)(0),S=Object(d.a)(O,1)[0],y=JSON.parse(localStorage.getItem("user")),A=new L.a(y._id,{port:"443",secure:!0,host:"school-peer.herokuapp.com"});function B(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)}function I(t,a){t.srcObject=a,t.addEventListener("loadedmetadata",(function(){t.play()})),e.append(t)}return i.a.useEffect((function(){return e=document.getElementById("video-grid"),console.log("hai"),function(){var e=document.createElement("video");e.setAttribute("class",B()?n.videoMobile:n.video),e.muted=!0,navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(t){console.log("Call received"),s(t),I(e,t),setTimeout((function(){var e=A.call(a,t);console.log("Calling to the diler {}",e),e&&e.on("stream",(function(e){if(console.log("source1 stream connected"),!document.getElementById(a)){console.log("source1 stream adding to the console");var t=document.createElement("video");t.setAttribute("class",B()?n.videoMobile:n.video),t.setAttribute("id",a),I(t,e)}}))}),2e3)}))}(),function(){l&&l.getTracks().forEach((function(e){e.stop()}))}}),[S]),i.a.createElement("div",null,i.a.createElement("div",{className:"row",container:!0},i.a.createElement("div",{id:"video-grid",className:""})),i.a.createElement(w.a,{position:"fixed",color:"primary",className:n.appBar},i.a.createElement(j.a,null,i.a.createElement("div",{className:n.grow},i.a.createElement(x.a,{color:"inherit",onClick:function(){return v(e=!E),void(l.getVideoTracks()[0].enabled=e);var e},edge:"end",className:n.controlBtn},E?i.a.createElement(F.a,null):i.a.createElement(T.a,null)),i.a.createElement(x.a,{edge:"end",color:"inherit",onClick:function(){return h(e=!g),void(l.getAudioTracks()[0].enabled=e);var e},className:n.controlBtn},g?i.a.createElement(C.a,null):i.a.createElement(N.a,null)),i.a.createElement(x.a,{color:"inherit",onClick:function(){return l.getTracks().forEach((function(e){e.stop()})),void t.push("/app/contacts")},edge:"end",className:n.callEndBtn},i.a.createElement(k.a,null))))))}var P=a(222),R=a(186),H=a(223),_=a(249),G=a(225),J=a(226),q=a(250),V=a(229),Y=a(224),X=a(227),$=a(228),K=Object(O.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)},appBar:{top:"auto",bottom:0},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function Q(){var e=K(),t=Object(m.g)(),a=i.a.useState(!1),n=Object(d.a)(a,1)[0],r=i.a.useState([]),o=Object(d.a)(r,2),c=o[0],l=o[1],s=i.a.useState(!1),u=Object(d.a)(s,2),p=u[0],g=u[1],h=i.a.useState(0),b=Object(d.a)(h,1)[0];i.a.useEffect((function(){!function(e,t){t(!0),fetch("https://teachit-api.herokuapp.com/teachit/api/v1/user",{method:"get",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){a?(e(a.users),t(!1)):(console.log("unable to inser"),t(!1))}))}(l,g)}),[b]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,"Contacts"),i.a.createElement("div",{className:e.demo},i.a.createElement(P.a,{dense:n},c.length>0?c.map((function(e){var a=e.firstName,n=e.lastName,r=e.email,o=e._id;return i.a.createElement(R.a,{key:o},i.a.createElement(H.a,null,i.a.createElement(_.a,null,i.a.createElement(Y.a,null))),i.a.createElement(G.a,{primary:a+" "+n,secondary:r}),i.a.createElement(J.a,null,i.a.createElement(x.a,{edge:"end","aria-label":"audio",onClick:function(){return e=o,void t.push("/app/call2/"+e);var e}},i.a.createElement(X.a,null)),i.a.createElement(x.a,{edge:"end","aria-label":"video"},i.a.createElement($.a,null))))})):[])),i.a.createElement(q.a,{className:e.backdrop,open:p,onClick:function(){}},i.a.createElement(V.a,null)))}function Z(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,"Messages"))}var ee=a(8),te=a(17),ae=a.n(te),ne=a(116),re=a.n(ne),oe=i.a.createContext(),ie=i.a.createContext();function ce(e,t){switch(t.type){case"TOGGLE_SIDEBAR":return Object(p.a)(Object(p.a)({},e),{},{isSidebarOpened:!e.isSidebarOpened});default:throw new Error("Unhandled action type: ".concat(t.type))}}function le(e){var t=e.children,a=i.a.useReducer(ce,{isSidebarOpened:!1}),n=Object(d.a)(a,2),r=n[0],o=n[1];return i.a.createElement(oe.Provider,{value:r},i.a.createElement(ie.Provider,{value:o},t))}function se(){var e=i.a.useContext(oe);if(void 0===e)throw new Error("useLayoutState must be used within a LayoutProvider");return e}function ue(){var e=i.a.useContext(ie);if(void 0===e)throw new Error("useLayoutDispatch must be used within a LayoutProvider");return e}function me(e){e({type:"TOGGLE_SIDEBAR"})}var de=a(53),pe=a(120),ge=a(232),he=a(230),be=a(231),fe=a(117),Ee=a.n(fe),ve=a(187),Oe=Object(ve.a)((function(e){var t;return t={root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},logotype:Object(ee.a)({color:"white",marginLeft:e.spacing(2.5),marginRight:e.spacing(2.5),fontWeight:500,fontSize:18,whiteSpace:"nowrap"},e.breakpoints.down("xs"),{display:"none"}),appBar:{width:"100vw",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})}},Object(ee.a)(t,"menuButton",{marginRight:e.spacing(2)}),Object(ee.a)(t,"toolbar",{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)}),Object(ee.a)(t,"hide",{display:"none"}),Object(ee.a)(t,"grow",{flexGrow:1}),Object(ee.a)(t,"headerMenuButton",{marginLeft:e.spacing(2),padding:e.spacing(.5)}),Object(ee.a)(t,"headerMenuButtonCollapse",{marginRight:e.spacing(2)}),Object(ee.a)(t,"headerIcon",{fontSize:28,color:"rgba(255, 255, 255, 0.35)"}),Object(ee.a)(t,"headerIconCollapse",{color:"white"}),t}));function we(e){var t=Oe(),a=E(),n=Object(m.g)(),r=se(),c=ue(),l=i.a.useState(!0),s=Object(d.a)(l,2),u=(s[0],s[1],i.a.useState(null)),p=Object(d.a)(u,2),g=p[0],h=p[1],b=Boolean(g),f=function(){h(null)},v=Object(o.useState)(!1),O=Object(d.a)(v,2);O[0],O[1];return i.a.createElement(w.a,{position:"fixed",className:t.appBar},i.a.createElement(j.a,{className:t.toolbar,variant:"dense"},i.a.createElement(x.a,{color:"inherit",onClick:function(){return me(c)},className:ae()(t.headerMenuButton,t.headerMenuButtonCollapse)},r.isSidebarOpened?i.a.createElement(he.a,{classes:{root:ae()(t.headerIcon,t.headerIconCollapse)}}):i.a.createElement(be.a,{classes:{root:ae()(t.headerIcon,t.headerIconCollapse)}})),i.a.createElement(de.a,{className:t.title,variant:"h6",noWrap:!0},"TeachIT"),i.a.createElement("div",null,i.a.createElement(x.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},color:"inherit"},i.a.createElement(Ee.a,null)),i.a.createElement(pe.a,{id:"menu-appbar",anchorEl:g,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:f},i.a.createElement(ge.a,{onClick:f},"Profile"),i.a.createElement(ge.a,{onClick:f},"My account"),i.a.createElement(ge.a,{onClick:function(){!function(e,t){localStorage.removeItem("user"),e({type:"SIGN_OUT_SUCCESS"}),t.push("/login")}(a,n)}},"Sign Out")))))}var je=a(251),xe=a(237),Se=a(121),ke=a(233),ye=a(234),Ce=a(236),Ae=a(235),Ne=Object(ve.a)((function(e){var t;return{menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(ee.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+0},e.breakpoints.down("sm"),{width:240}),toolbar:Object(p.a)(Object(p.a)({},e.mixins.toolbar),{},Object(ee.a)({},e.breakpoints.down("sm"),{display:"none"})),content:{flexGrow:1,padding:e.spacing(3)},mobileBackButton:(t={marginTop:e.spacing(.5),marginLeft:e.spacing(3)},Object(ee.a)(t,e.breakpoints.only("sm"),{marginTop:e.spacing(.625)}),Object(ee.a)(t,e.breakpoints.up("md"),{display:"none"}),t)}}));function Be(e){var t,a,n,r=e.link,c=e.icon,l=e.label,s=e.children,m=e.location,p=e.isSidebarOpened,g=e.nested,h=e.type,b=Ne(),f=Object(o.useState)(!1),E=Object(d.a)(f,2),v=E[0],O=E[1],w=r&&(m.pathname===r||-1!==m.pathname.indexOf(r));return"title"===h?i.a.createElement(de.a,{className:ae()(b.linkText,b.sectionTitle,Object(ee.a)({},b.linkTextHidden,!p))},l):"divider"===h?i.a.createElement(ke.a,{className:b.divider}):s?i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{button:!0,component:r&&u.b,onClick:function(e){p&&(e.preventDefault(),O(!v))},className:b.link,to:r,disableRipple:!0},i.a.createElement(ye.a,{className:ae()(b.linkIcon,Object(ee.a)({},b.linkIconActive,w))},c||i.a.createElement(Ae.a,null)),i.a.createElement(G.a,{classes:{primary:ae()(b.linkText,(n={},Object(ee.a)(n,b.linkTextActive,w),Object(ee.a)(n,b.linkTextHidden,!p),n))},primary:l})),s&&i.a.createElement(Ce.a,{in:v&&p,timeout:"auto",unmountOnExit:!0,className:b.nestedList},i.a.createElement(P.a,{component:"div",disablePadding:!0},s.map((function(e){return i.a.createElement(Be,Object.assign({key:e&&e.link,location:m,isSidebarOpened:p,classes:b,nested:!0},e))}))))):i.a.createElement(R.a,{button:!0,component:r&&u.b,to:r,className:b.link,classes:{root:ae()(b.linkRoot,(t={},Object(ee.a)(t,b.linkActive,w&&!g),Object(ee.a)(t,b.linkNested,g),t))},disableRipple:!0},i.a.createElement(ye.a,{className:ae()(b.linkIcon,Object(ee.a)({},b.linkIconActive,w))},c),i.a.createElement(G.a,{classes:{primary:ae()(b.linkText,(a={},Object(ee.a)(a,b.linkTextActive,w),Object(ee.a)(a,b.linkTextHidden,!p),a))},primary:l}))}var Fe=[{id:1,label:"Calls",link:"/app/calls",icon:i.a.createElement(X.a,null)},{id:2,label:"Messages",link:"/app/messages",icon:i.a.createElement(Y.a,null)},{id:3,label:"Contacts",link:"/app/contacts",icon:i.a.createElement(xe.a,null)}];var Ie=Object(m.i)((function(e){var t,a,n=e.location,r=Ne(),c=Object(Se.a)(),l=se().isSidebarOpened,s=ue(),u=Object(o.useState)(!0),m=Object(d.a)(u,2),p=m[0],g=m[1];return Object(o.useEffect)((function(){return window.addEventListener("resize",h),h(),function(){window.removeEventListener("resize",h)}})),i.a.createElement(je.a,{variant:p?"permanent":"temporary",className:ae()(r.drawer,(t={},Object(ee.a)(t,r.drawerOpen,l),Object(ee.a)(t,r.drawerClose,!l),t)),classes:{paper:ae()((a={},Object(ee.a)(a,r.drawerOpen,l),Object(ee.a)(a,r.drawerClose,!l),a))},open:l},i.a.createElement("div",{className:r.toolbar}),i.a.createElement("div",{className:r.mobileBackButton},i.a.createElement(x.a,{onClick:function(){return me(s)}},i.a.createElement(he.a,{classes:{root:ae()(r.headerIcon,r.headerIconCollapse)}}))),i.a.createElement(P.a,{className:r.sidebarList},Fe.map((function(e){return i.a.createElement(Be,Object.assign({key:e.id,location:n,isSidebarOpened:l},e))}))));function h(){var e=window.innerWidth<c.breakpoints.values.md;e&&p?g(!1):e||p||g(!0)}})),Te=a(247),Me=a(118),Le=a.n(Me);function We(){return Math.round(20*Math.random())-10}function Ue(){var e=50+We(),t=50+We();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var ze=Object(O.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[9],padding:e.spacing(2,4,3)},callEnd:{backgroundColor:"#eb0905",color:"#fff",marginLeft:"50px"},callAnswer:{backgroundColor:"#237301",color:"#fff",float:"right",marginRight:"50px"},callImg:{justifyContent:"center",textAlign:"center",backgroundColor:"#040e46",width:"100px",height:"100px",borderRadius:"50px",margin:"0 auto",color:"#ffffff"},callText:{position:"relative",top:"30%",fontSize:"xx-large"},callName:{textAlign:"center"}}}));function De(e){var t=e.callId,a=(e.playing,e.toggle),n=ze(),r=Object(m.g)(),c=Object(o.useState)(Ue),l=Object(d.a)(c,1)[0],s=Object(o.useState)(!0),u=Object(d.a)(s,2),p=u[0],g=u[1],h=Object(o.useState)(),b=Object(d.a)(h,2),f=b[0],E=b[1];Object(o.useEffect)((function(){return t&&t.status&&function(e,t){fetch("https://teachit-api.herokuapp.com/teachit/api/v1/user/query",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({_id:e})}).then((function(e){return e.json()})).then((function(e){e?t(e[0]):console.log("unable to inser")}))}(t.status,E),function(){}}),[t]);var v=i.a.createElement("div",{style:l,className:n.paper},i.a.createElement("div",{className:n.callImg},i.a.createElement("span",{className:n.callText}," ",f?f.firstName.slice(0,1).toUpperCase()+f.lastName.slice(0,1).toUpperCase():"")),i.a.createElement("div",{className:n.callName},i.a.createElement("h2",{id:"simple-modal-title"},f?f.firstName+" "+f.lastName:""),i.a.createElement("p",null,"Is calling...")),i.a.createElement(x.a,{edge:"end","aria-label":"end",className:n.callEnd,onClick:function(){return g(!1),void a()}},i.a.createElement(k.a,null)),i.a.createElement(x.a,{edge:"end","aria-label":"answer",className:n.callAnswer,onClick:function(){return g(!1),a(),void r.push("/app/call/"+t.status)}},i.a.createElement(Le.a,null)));return i.a.createElement("div",null,i.a.createElement("button",{type:"button",onClick:function(){g(!0)}},"Open Modal"),i.a.createElement(Te.a,{open:p,onClose:function(){g(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},v))}var Pe=Object(ve.a)((function(e){return{root:{display:"flex",maxWidth:"100vw",overflowX:"hidden"},content:{flexGrow:1,width:"calc(100vw - 240px)",margin:"48px 0px 64px 0px"},contentShift:{width:"calc(100vw - ".concat(240+e.spacing(6),"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},fakeToolbar:Object(p.a)({},e.mixins.toolbar)}})),Re={height:window.innerHeight-112+"px"};var He=Object(m.i)((function(e){var t=function(e){var t=Object(o.useState)(new Audio(e)),a=Object(d.a)(t,1)[0],n=Object(o.useState)(!1),r=Object(d.a)(n,2),i=r[0],c=r[1];return Object(o.useEffect)((function(){a.loop=!0,i?a.play():a.pause()}),[i]),Object(o.useEffect)((function(){return a.addEventListener("ended",(function(){c(!0)})),function(){a.removeEventListener("ended",(function(){return c(!1)}))}}),[]),[i,function(){return c(!i)}]}("telephone_ring.mp3"),a=Object(d.a)(t,2),n=a[0],r=a[1],c=re()("https://teachit-api.herokuapp.com"),l=Pe(),s=i.a.useState(!1),u=Object(d.a)(s,2),p=u[0],g=u[1],h=i.a.useState(),b=Object(d.a)(h,2),f=b[0],E=b[1],O=i.a.useState(10),w=Object(d.a)(O,2),j=w[0];w[1],i.a.useEffect((function(){var e=JSON.parse(localStorage.getItem("user"));c.on(e._id,(function(e){g(!0),r(),E(e)}))}),[j]);var x=se();return i.a.createElement("div",{className:l.root},i.a.createElement(i.a.Fragment,null,i.a.createElement(we,{history:e.history}),i.a.createElement(Ie,null),i.a.createElement("div",{className:ae()(l.content,Object(ee.a)({},l.contentShift,x.isSidebarOpened))},i.a.createElement("div",{style:Re},i.a.createElement(m.d,null,i.a.createElement(m.b,{path:"/app/calls",component:v}),i.a.createElement(m.b,{path:"/app/call/:id",component:D}),i.a.createElement(m.b,{path:"/app/call2/:id",component:U}),i.a.createElement(m.b,{path:"/app/messages",component:Z}),i.a.createElement(m.b,{path:"/app/contacts",component:Q})))),p?i.a.createElement(De,{callId:f,playing:n,toggle:r}):""))})),_e=a(246),Ge=a(242),Je=a(248),qe=a(239),Ve=a(241),Ye=a(243),Xe=a(238),$e=a(245),Ke=a(75),Qe=a.n(Ke);function Ze(){return i.a.createElement(de.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",i.a.createElement(Xe.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var et=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function tt(){var e=et(),t=E(),a=Object(m.g)(),r=Object(o.useState)(!1),c=Object(d.a)(r,2),l=c[0],s=c[1],u=Object(o.useState)(null),g=Object(d.a)(u,2),h=g[0],b=g[1],f=Object(o.useState)({email:"",password:""}),v=Object(d.a)(f,2),O=v[0],w=v[1],j=function(e){var t=e.target,a=t.name,n=t.value;w(Object(p.a)(Object(p.a)({},O),{},Object(ee.a)({},a,n)))};return i.a.createElement(qe.a,{component:"main",maxWidth:"xs"},i.a.createElement(n.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement(_.a,{className:e.avatar},i.a.createElement(Qe.a,null)),i.a.createElement(de.a,{component:"h1",variant:"h5"},"Sign in"),i.a.createElement("form",{className:e.form,noValidate:!0},i.a.createElement($e.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",onChange:j,value:O.email,autoComplete:"email",autoFocus:!0}),i.a.createElement($e.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:j,value:O.password,autoComplete:"current-password"}),i.a.createElement(Ve.a,{control:i.a.createElement(Je.a,{value:"remember",color:"primary"}),label:"Remember me"}),i.a.createElement(Ge.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){!function(e,t,a,n,r,o){o(!1),r(!0),t&&a?fetch("https://teachit-api.herokuapp.com/teachit/api/v1/user/query",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t})}).then((function(e){return e.json()})).then((function(t){t?(localStorage.setItem("user",JSON.stringify(t[0])),o(null),r(!1),e({type:"LOGIN_SUCCESS"}),n.push("/app/calls")):console.log("unable to inser")})):(e({type:"LOGIN_FAILURE"}),o(!0),r(!1))}(t,O.email,O.password,a,s,b)}},"Sign In"),i.a.createElement(Ye.a,{container:!0},i.a.createElement(Ye.a,{item:!0,xs:!0},i.a.createElement(Xe.a,{href:"#",variant:"body2"},"Forgot password?")),i.a.createElement(Ye.a,{item:!0},i.a.createElement(Xe.a,{href:"#/signup",variant:"body2"},"Don't have an account? Sign Up"))))),i.a.createElement(_e.a,{mt:8},i.a.createElement(Ze,null)),h,i.a.createElement(q.a,{className:e.backdrop,open:l},i.a.createElement(V.a,null)))}function at(){return i.a.createElement(de.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",i.a.createElement(Xe.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var nt=Object(O.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function rt(){var e=nt(),t=Object(m.g)(),a=Object(o.useState)({firstName:"",lastName:"",email:"",password:""}),r=Object(d.a)(a,2),c=r[0],l=r[1],s=function(e){var t=e.target,a=t.name,n=t.value;l(Object(p.a)(Object(p.a)({},c),{},Object(ee.a)({},a,n)))};return i.a.createElement(qe.a,{component:"main",maxWidth:"xs"},i.a.createElement(n.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement(_.a,{className:e.avatar},i.a.createElement(Qe.a,null)),i.a.createElement(de.a,{component:"h1",variant:"h5"},"Sign up"),i.a.createElement("form",{className:e.form,noValidate:!0},i.a.createElement(Ye.a,{container:!0,spacing:2},i.a.createElement(Ye.a,{item:!0,xs:12,sm:6},i.a.createElement($e.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",onChange:s,value:c.firstName,autoFocus:!0})),i.a.createElement(Ye.a,{item:!0,xs:12,sm:6},i.a.createElement($e.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",onChange:s,value:c.lastName,autoComplete:"lname"})),i.a.createElement(Ye.a,{item:!0,xs:12},i.a.createElement($e.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",onChange:s,value:c.email,autoComplete:"email"})),i.a.createElement(Ye.a,{item:!0,xs:12},i.a.createElement($e.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:s,value:c.password,autoComplete:"current-password"})),i.a.createElement(Ye.a,{item:!0,xs:12},i.a.createElement(Ve.a,{control:i.a.createElement(Je.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."}))),i.a.createElement(Ge.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),fetch("https://teachit-api.herokuapp.com/teachit/api/v1/user",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){e.user?t.push("/app"):alert("Sorrrrrry !!!! Un-authenticated User !!!!!")}))}},"Sign Up"),i.a.createElement(Ye.a,{container:!0,justify:"flex-end"},i.a.createElement(Ye.a,{item:!0},i.a.createElement(Xe.a,{href:"#/login",variant:"body2"},"Already have an account? Sign in"))))),i.a.createElement(_e.a,{mt:5},i.a.createElement(at,null)))}function ot(){var e=function(){var e=i.a.useContext(g);if(void 0===e)throw new Error("useUserState must be used within a UserProvider");return e}().isAuthenticated;return i.a.createElement(u.a,null,i.a.createElement(m.d,null,i.a.createElement(m.b,{exact:!0,path:"/",render:function(){return i.a.createElement(m.a,{to:"/app/contacts"})}}),i.a.createElement(m.b,{exact:!0,path:"/app",render:function(){return i.a.createElement(m.a,{to:"/app/contacts"})}}),i.a.createElement(t,{path:"/app",component:He}),i.a.createElement(t,{path:"/app/calls",component:v}),i.a.createElement(t,{path:"/app/call/:id",component:D}),i.a.createElement(t,{path:"/app/call2/:id",component:U}),i.a.createElement(t,{path:"/app/messages",component:Z}),i.a.createElement(t,{path:"/app/contacts",component:Q}),i.a.createElement(a,{path:"/login",component:tt}),i.a.createElement(a,{path:"/signup",component:rt}),i.a.createElement(m.b,{component:Error})));function t(t){var a=t.component,n=Object(s.a)(t,["component"]);return i.a.createElement(m.b,Object.assign({},n,{render:function(t){return e?i.a.createElement(a,t):i.a.createElement(m.a,{to:{pathname:"/login",state:{from:t.location}}})}}))}function a(t){var a=t.component,n=Object(s.a)(t,["component"]);return i.a.createElement(m.b,Object.assign({},n,{render:function(t){return e?i.a.createElement(m.a,{to:{pathname:"/"}}):i.a.createElement(a,t)}}))}}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var it=a(119),ct=a(30),lt=a.n(ct),st={palette:{primary:{main:"#040e46",light:lt()("#536DFE").lighten(7.5).toHexString(),dark:lt()("#536DFE").darken(15).toHexString()},secondary:{main:"#FF5C93",light:lt()("#FF5C93").lighten(7.5).toHexString(),dark:lt()("#FF5C93").darken(15).toHexString(),contrastText:"#FFFFFF"},warning:{main:"#FFC260",light:lt()("#FFC260").lighten(7.5).toHexString(),dark:lt()("#FFC260").darken(15).toHexString()},success:{main:"#3CD4A0",light:lt()("#3CD4A0").lighten(7.5).toHexString(),dark:lt()("#3CD4A0").darken(15).toHexString()},info:{main:"#9013FE",light:lt()("#9013FE").lighten(7.5).toHexString(),dark:lt()("#9013FE").darken(15).toHexString()},text:{primary:"#4A4A4A",secondary:"#6E6E6E",hint:"#B9B9B9"},background:{default:"#F6F7FF",light:"#F3F5FF"}},customShadows:{widget:"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A",widgetDark:"0px 3px 18px 0px #4558A3B3, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A",widgetWide:"0px 12px 33px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A"},overrides:{MuiBackdrop:{root:{backgroundColor:"#4A4A4A1A"}},MuiMenu:{paper:{boxShadow:"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A"}},MuiSelect:{icon:{color:"#B9B9B9"}},MuiListItem:{root:{"&$selected":{backgroundColor:"#F3F5FF !important","&:focus":{backgroundColor:"#F3F5FF"}}},button:{"&:hover, &:focus":{backgroundColor:"#F3F5FF"}}},MuiTouchRipple:{child:{backgroundColor:"white"}},MuiTableRow:{root:{height:56}},MuiTableCell:{root:{borderBottom:"1px solid rgba(224, 224, 224, .5)"},head:{fontSize:"0.95rem"},body:{fontSize:"0.95rem"}}}},ut={default:Object(it.a)(Object(p.a)(Object(p.a)({},st),{typography:{h1:{fontSize:"3rem"},h2:{fontSize:"2rem"},h3:{fontSize:"1.64rem"},h4:{fontSize:"1.5rem"},h5:{fontSize:"1.285rem"},h6:{fontSize:"1.142rem"}}}))};l.a.render(i.a.createElement(le,null,i.a.createElement(f,null,i.a.createElement(r.a,{theme:ut.default},i.a.createElement(n.a,null),i.a.createElement(ot,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.d502ff21.chunk.js.map