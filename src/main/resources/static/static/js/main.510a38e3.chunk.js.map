{"version":3,"sources":["../node_modules/peerjs/dist sync","config.js","context/UserContext.js","pages/calls/Calls.js","pages/calls/DailCall.js","pages/calls/ReceiveCall.js","pages/contacts/Contacts.js","pages/cources/Cource.js","pages/cources/Cources.js","pages/cources/Styles.js","pages/cources/Listner.js","pages/cources/Room.js","pages/cources/Teacher.js","pages/meeting/Styles.js","pages/meeting/Meeting.js","pages/messages/Messages.js","context/LayoutContext.js","components/header/styles.js","components/header/Header.js","components/sidebar/styles.js","components/sidebar/SidebarLink.js","components/sidebar/Sidebar.js","components/layout/CallModal.js","components/layout/styles.js","components/layout/Layout.js","components/Login.js","components/Signup.js","components/App.js","serviceWorker.js","themes/default.js","themes/index.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","config","apiEndpoint","socketEndpoint","peerEndpoint","UserStateContext","React","createContext","UserDispatchContext","userReducer","state","action","type","isAuthenticated","UserProvider","children","useReducer","localStorage","getItem","dispatch","Provider","value","useUserDispatch","context","useContext","undefined","Calls","useStyles","makeStyles","theme","appBar","top","bottom","grow","float","position","right","controlBtn","margin","callEndBtn","backgroundColor","video","height","window","innerHeight","width","innerWidth","videoMobile","DailCall","videoGrid","socket","io","params","useParams","history","useHistory","callId","classes","useState","stream","setStream","audio","setAudio","setVideo","userId","user","JSON","parse","peer","Peer","_id","port","secure","host","callEnd","getTracks","forEach","track","stop","notifyUser","push","isMobile","navigator","userAgent","match","from","to","fetch","method","headers","Accept","then","Response","json","response","console","log","addVideoStream","srcObject","addEventListener","play","append","useEffect","document","getElementById","on","toId","myVideo","createElement","setAttribute","muted","mediaDevices","getUserMedia","call","answer","userStream","myVide","loadMedia","disconnect","destroy","useLayoutEffect","updateSize","removeEventListener","className","AppBar","color","Toolbar","IconButton","onClick","val","getVideoTracks","enabled","edge","getAudioTracks","src","ReceiveCall","setTimeout","destinationStream","root","flexGrow","maxWidth","demo","palette","background","paper","title","spacing","backdrop","zIndex","drawer","Contacts","dense","data","setData","loading","setLoading","users","getContacts","List","length","map","firstName","lastName","email","ListItem","key","ListItemAvatar","Avatar","Message","ListItemText","primary","secondary","ListItemSecondaryAction","aria-label","Call","VideoCall","Backdrop","open","CircularProgress","Cource","props","classId","style","Button","variant","uuid","minWidth","bullet","display","transform","fontSize","pos","marginBottom","Cources","Box","flexWrap","p","m","index","Card","CardContent","Typography","component","CardActions","overflowX","Listner","classID","screenShare","setScreenShare","useRef","videoLayout","addNewUser","createVideo","newUser","subscribe","classVideo","getDisplayMedia","screenStream","Room","userVideo","partnerVideo","peerRef","socketRef","otherUser","createPeer","userID","RTCPeerConnection","iceServers","urls","credential","username","onicecandidate","handleICECandidateEvent","ontrack","handleTrackEvent","onnegotiationneeded","current","createOffer","offer","setLocalDescription","payload","target","caller","sdp","localDescription","emit","catch","handleNegotiationNeededEvent","handleRecieveCall","incoming","desc","RTCSessionDescription","setRemoteDescription","addTrack","createAnswer","handleAnswer","message","candidate","handleNewICECandidateMsg","RTCIceCandidate","addIceCandidate","streams","connect","roomID","callUser","autoPlay","ref","Teacher","peerScreen","Container","styled","div","StyledVideo","Video","playsInline","videoConstraints","Meeting","peers","setPeers","peersRef","userToSignal","callerID","initiator","trickle","signal","socketId","peerID","incomingSignal","addPeer","find","Messages","LayoutStateContext","LayoutDispatchContext","layoutReducer","isSidebarOpened","LayoutProvider","useLayoutState","useLayoutDispatch","toggleSidebar","menuButton","marginRight","logotype","marginLeft","fontWeight","whiteSpace","breakpoints","down","transition","transitions","create","easing","sharp","duration","leavingScreen","paddingLeft","paddingRight","padding","Header","layoutState","layoutDispatch","anchorEl","setAnchorEl","Boolean","handleClose","toolbar","classNames","headerMenuButton","headerMenuButtonCollapse","ArrowBack","headerIcon","headerIconCollapse","noWrap","aria-controls","aria-haspopup","event","currentTarget","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","removeItem","signOut","hide","flexShrink","drawerOpen","enteringScreen","drawerClose","mixins","content","mobileBackButton","marginTop","only","up","SidebarLink","link","icon","label","location","nested","isOpen","setIsOpen","isLinkActive","pathname","indexOf","classnames","linkText","sectionTitle","linkTextHidden","Divider","divider","button","Link","preventDefault","disableRipple","ListItemIcon","linkIcon","linkIconActive","Inbox","linkTextActive","Collapse","in","timeout","unmountOnExit","nestedList","disablePadding","childrenLink","linkRoot","linkActive","linkNested","structure","MenuBook","withRouter","useTheme","isPermanent","setPermanent","handleWindowWidthChange","Drawer","sidebarList","isSmallScreen","values","md","rand","Math","round","random","getModalStyle","left","boxShadow","shadows","callAnswer","callImg","justifyContent","textAlign","borderRadius","callText","callName","CallModal","setOpen","toggle","modalStyle","setUser","status","body","stringify","getUserById","slice","toUpperCase","Modal","aria-labelledby","aria-describedby","contentShift","fakeToolbar","url","Audio","playing","setPlaying","loop","pause","useAudio","setCallId","path","Copyright","align","href","Date","getFullYear","flexDirection","alignItems","avatar","main","form","submit","SignIn","userDispatch","isLoading","setIsLoading","error","setError","password","setValues","handleInputChange","name","CssBaseline","noValidate","TextField","required","fullWidth","onChange","autoComplete","autoFocus","FormControlLabel","control","Checkbox","login","setItem","loginUser","Grid","container","item","xs","mt","SignUp","sm","alert","justify","App","useUserState","exact","render","PrivateRoute","Layout","PublicRoute","Login","rest","hostname","light","tinycolor","lighten","toHexString","dark","darken","contrastText","warning","success","info","text","hint","default","customShadows","widget","widgetDark","widgetWide","overrides","MuiBackdrop","MuiMenu","MuiSelect","MuiListItem","MuiTouchRipple","child","MuiTableRow","MuiTableCell","borderBottom","head","createMuiTheme","defaultTheme","typography","h1","h2","h3","h4","h5","h6","ReactDOM","ThemeProvider","Themes","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.510a38e3.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 176;","const config = {\r\n  apiEndpoint: \"https://teachit-api.herokuapp.com\",\r\n  socketEndpoint: \"https://teachit-api.herokuapp.com\",\r\n  peerEndpoint: \"school-peer.herokuapp.com\",\r\n};\r\n\r\nexport default config;\r\n","import React from \"react\";\r\nimport config from \"../config\";\r\n\r\nvar UserStateContext = React.createContext();\r\nvar UserDispatchContext = React.createContext();\r\n\r\nfunction userReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"LOGIN_SUCCESS\":\r\n      return { ...state, isAuthenticated: true };\r\n    case \"SIGN_OUT_SUCCESS\":\r\n      return { ...state, isAuthenticated: false };\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n  }\r\n}\r\n\r\nfunction UserProvider({ children }) {\r\n  var [state, dispatch] = React.useReducer(userReducer, {\r\n    isAuthenticated: !!localStorage.getItem(\"user\"),\r\n  });\r\n\r\n  return (\r\n    <UserStateContext.Provider value={state}>\r\n      <UserDispatchContext.Provider value={dispatch}>\r\n        {children}\r\n      </UserDispatchContext.Provider>\r\n    </UserStateContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useUserState() {\r\n  var context = React.useContext(UserStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useUserState must be used within a UserProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nfunction useUserDispatch() {\r\n  var context = React.useContext(UserDispatchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useUserDispatch must be used within a UserProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nfunction loginUser(dispatch, login, password, history, setIsLoading, setError) {\r\n  setError(false);\r\n  setIsLoading(true);\r\n\r\n  if (!!login && !!password) {\r\n    fetch(\"https://teachit-api.herokuapp.com/teachit/api/v1/user/query\", {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email: login }),\r\n    })\r\n      .then((Response) => Response.json())\r\n      .then((response) => {\r\n        if (response) {\r\n          localStorage.setItem(\"user\", JSON.stringify(response[0]));\r\n          setError(null);\r\n          setIsLoading(false);\r\n          dispatch({ type: \"LOGIN_SUCCESS\" });\r\n\r\n          history.push(\"/app/contacts\");\r\n        } else {\r\n          console.log(\"unable to inser\");\r\n        }\r\n      });\r\n  } else {\r\n    dispatch({ type: \"LOGIN_FAILURE\" });\r\n    setError(true);\r\n    setIsLoading(false);\r\n  }\r\n}\r\n\r\nfunction createUser(dispatch, data, history) {\r\n  fetch(\"https://teachit-api.herokuapp.com/teachit/api/v1/user\", {\r\n    method: \"post\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(data),\r\n  })\r\n    .then((Response) => Response.json())\r\n    .then((response) => {\r\n      if (response.user) {\r\n        localStorage.setItem(\"user\", JSON.stringify(response.user));\r\n        dispatch({ type: \"LOGIN_SUCCESS\" });\r\n        history.push(\"/app/contacts\");\r\n      } else {\r\n        console.log(\"unable to inser\");\r\n      }\r\n    });\r\n}\r\n\r\nfunction getContacts(setData, setLoading) {\r\n  setLoading(true);\r\n  fetch(\"https://teachit-api.herokuapp.com/teachit/api/v1/user\", {\r\n    method: \"get\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  })\r\n    .then((Response) => Response.json())\r\n    .then((response) => {\r\n      if (response) {\r\n        setData(response.users);\r\n        setLoading(false);\r\n      } else {\r\n        console.log(\"unable to inser\");\r\n        setLoading(false);\r\n      }\r\n    });\r\n}\r\n\r\nfunction getUserById(id, setUser) {\r\n  fetch(\"https://teachit-api.herokuapp.com/teachit/api/v1/user/query\", {\r\n    method: \"post\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ _id: id }),\r\n  })\r\n    .then((Response) => Response.json())\r\n    .then((response) => {\r\n      if (response) {\r\n        setUser(response[0]);\r\n      } else {\r\n        console.log(\"unable to inser\");\r\n      }\r\n    });\r\n}\r\n\r\nfunction signOut(dispatch, history) {\r\n  localStorage.removeItem(\"user\");\r\n  dispatch({ type: \"SIGN_OUT_SUCCESS\" });\r\n  history.push(\"/login\");\r\n}\r\n\r\nfunction notifyUser(to, from) {\r\n  fetch(config.apiEndpoint + \"/teachit/api/v1/user/\" + to + \"/\" + from, {\r\n    method: \"get\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  })\r\n    .then((Response) => Response.json())\r\n    .then((response) => {\r\n      if (response) {\r\n        console.log(response);\r\n      } else {\r\n        console.log(\"unable to inser\");\r\n      }\r\n    });\r\n}\r\n\r\nexport {\r\n  UserProvider,\r\n  useUserState,\r\n  useUserDispatch,\r\n  createUser,\r\n  loginUser,\r\n  getContacts,\r\n  signOut,\r\n  getUserById,\r\n  notifyUser,\r\n};\r\n","import React from \"react\";\r\n\r\nexport default function Calls() {\r\n  return (\r\n    <div>\r\n      <div id=\"video-grid\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import { AppBar, IconButton, makeStyles, Toolbar } from \"@material-ui/core\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\r\nimport Peer from \"peerjs\";\r\nimport React, { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport config from \"../../config\";\r\nimport \"./styles.scss\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    top: \"auto\",\r\n    bottom: 0,\r\n  },\r\n  grow: {\r\n    float: \"right\",\r\n    position: \"absolute\",\r\n    right: \"30px\",\r\n  },\r\n  controlBtn: {\r\n    margin: \"5px\",\r\n  },\r\n  callEndBtn: {\r\n    margin: \"5px\",\r\n    backgroundColor: \"red\",\r\n  },\r\n  video: {\r\n    height: window.innerHeight - 112 + \"px\",\r\n    width: (window.innerWidth - 74) / 2 + \"px\",\r\n  },\r\n\r\n  videoMobile: {\r\n    height: (window.innerHeight - 112) / 2 + \"px\",\r\n    width: window.innerWidth + \"px\",\r\n  },\r\n}));\r\n\r\nexport default function DailCall() {\r\n  const socket = io(config.socketEndpoint);\r\n  const params = useParams();\r\n  const history = useHistory();\r\n  const callId = params.id;\r\n  const classes = useStyles();\r\n  const [stream, setStream] = useState();\r\n  const [audio, setAudio] = useState(true);\r\n  const [video, setVideo] = useState(true);\r\n  const [userId] = useState(0);\r\n  let videoGrid;\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  const peer = new Peer(user._id, {\r\n    port: \"443\",\r\n    secure: true,\r\n    host: config.peerEndpoint,\r\n  });\r\n\r\n  useEffect(() => {\r\n    videoGrid = document.getElementById(\"video-grid\");\r\n    notifyUser(user._id, callId);\r\n    callEndSubscription();\r\n    loadMedia();\r\n  }, [userId]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      console.log(\"End\");\r\n      peer.disconnect();\r\n      peer.destroy();\r\n    };\r\n  }, []);\r\n\r\n  useLayoutEffect(() => {\r\n    function updateSize() {\r\n      // setSize([window.innerWidth, window.innerHeight]);\r\n    }\r\n    window.addEventListener(\"resize\", updateSize);\r\n    updateSize();\r\n    return () => window.removeEventListener(\"resize\", updateSize);\r\n  }, []);\r\n\r\n  function callEndSubscription() {\r\n    socket.on(user._id + \"close\", (toId) => {\r\n      debugger;\r\n      callEnd(false);\r\n    });\r\n  }\r\n\r\n  function switchVideo(val) {\r\n    setVideo(val);\r\n    stream.getVideoTracks()[0].enabled = val;\r\n  }\r\n\r\n  function switchAudio(val) {\r\n    setAudio(val);\r\n    stream.getAudioTracks()[0].enabled = val;\r\n  }\r\n\r\n  function callEnd(type) {\r\n    if (stream)\r\n      stream.getTracks().forEach(function (track) {\r\n        track.stop();\r\n      });\r\n    if (type) notifyUser(user._id, callId + \"close\");\r\n    history.push(\"/app/contacts\");\r\n  }\r\n\r\n  function isMobile() {\r\n    return (\r\n      navigator.userAgent.match(/Android/i) ||\r\n      navigator.userAgent.match(/webOS/i) ||\r\n      navigator.userAgent.match(/iPhone/i) ||\r\n      navigator.userAgent.match(/iPad/i) ||\r\n      navigator.userAgent.match(/iPod/i) ||\r\n      navigator.userAgent.match(/BlackBerry/i) ||\r\n      navigator.userAgent.match(/Windows Phone/i)\r\n    );\r\n  }\r\n  function notifyUser(from, to) {\r\n    fetch(config.apiEndpoint + \"/teachit/api/v1/user/\" + to + \"/\" + from, {\r\n      method: \"get\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((Response) => Response.json())\r\n      .then((response) => {\r\n        if (response) {\r\n          console.log(response);\r\n        } else {\r\n          console.log(\"unable to inser\");\r\n        }\r\n      });\r\n  }\r\n\r\n  function loadMedia() {\r\n    const myVideo = document.createElement(\"video\");\r\n    myVideo.setAttribute(\r\n      \"class\",\r\n      isMobile() ? classes.videoMobile : classes.video\r\n    );\r\n    myVideo.muted = true;\r\n    navigator.mediaDevices\r\n      .getUserMedia({\r\n        video: true,\r\n        audio: true,\r\n      })\r\n      .then((stream) => {\r\n        setStream(stream);\r\n        addVideoStream(myVideo, stream);\r\n        console.log(\"Call started\");\r\n        peer.on(\"call\", function (call) {\r\n          console.log(\"Received the call from source2\");\r\n          call.answer(stream);\r\n          call.on(\"stream\", function (userStream) {\r\n            console.log(\"source2 stream connected\");\r\n            if (!document.getElementById(callId)) {\r\n              console.log(\"source1 stream adding to the console\");\r\n              const myVide = document.createElement(\"video\");\r\n              myVide.setAttribute(\r\n                \"class\",\r\n                isMobile() ? classes.videoMobile : classes.video\r\n              );\r\n              myVide.setAttribute(\"id\", callId);\r\n              addVideoStream(myVide, userStream);\r\n            }\r\n          });\r\n          call.on(\"disconnected\", function () {\r\n            console.log(\"disconnected\");\r\n          });\r\n          call.on(\"close\", function () {\r\n            console.log(\"close\");\r\n          });\r\n        });\r\n      });\r\n  }\r\n\r\n  function addVideoStream(video, stream) {\r\n    video.srcObject = stream;\r\n    video.addEventListener(\"loadedmetadata\", () => {\r\n      video.play();\r\n    });\r\n    videoGrid.append(video);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        <div id=\"video-grid\" className=\"\"></div>\r\n      </div>\r\n      <AppBar position=\"fixed\" color=\"primary\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <div className={classes.grow}>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => switchVideo(!video)}\r\n              edge=\"end\"\r\n              className={classes.controlBtn}\r\n            >\r\n              {video ? <VideocamIcon /> : <VideocamOffIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              edge=\"end\"\r\n              color=\"inherit\"\r\n              onClick={() => switchAudio(!audio)}\r\n              className={classes.controlBtn}\r\n            >\r\n              {audio ? <MicIcon /> : <MicOffIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => callEnd(true)}\r\n              edge=\"end\"\r\n              className={classes.callEndBtn}\r\n            >\r\n              <CallEndIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <audio className=\"audio-element\">\r\n        <source src=\"sample.mp3\"></source>\r\n      </audio>\r\n    </div>\r\n  );\r\n}\r\n","import { AppBar, IconButton, makeStyles, Toolbar } from \"@material-ui/core\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\r\nimport Peer from \"peerjs\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport config from \"../../config\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    top: \"auto\",\r\n    bottom: 0,\r\n  },\r\n  grow: {\r\n    float: \"right\",\r\n    position: \"absolute\",\r\n    right: \"30px\",\r\n  },\r\n  controlBtn: {\r\n    margin: \"5px\",\r\n  },\r\n  callEndBtn: {\r\n    margin: \"5px\",\r\n    backgroundColor: \"red\",\r\n  },\r\n  video: {\r\n    height: window.innerHeight - 112 + \"px\",\r\n    width: (window.innerWidth - 74) / 2 + \"px\",\r\n  },\r\n\r\n  videoMobile: {\r\n    height: (window.innerHeight - 112) / 2 + \"px\",\r\n    width: window.innerWidth + \"px\",\r\n  },\r\n}));\r\n\r\nexport default function ReceiveCall() {\r\n  const socket = io(config.socketEndpoint);\r\n  const history = useHistory();\r\n  const params = useParams();\r\n  const callId = params.id;\r\n  const classes = useStyles();\r\n  const [stream, setStream] = useState();\r\n  const [audio, setAudio] = useState(true);\r\n  const [video, setVideo] = useState(true);\r\n  const [userId] = useState(0);\r\n  let videoGrid;\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  const peer = new Peer(user._id, {\r\n    port: \"443\",\r\n    secure: true,\r\n    host: config.peerEndpoint,\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    videoGrid = document.getElementById(\"video-grid\");\r\n    console.log(\"hai\");\r\n    loadMedia();\r\n    callEndSubscription();\r\n    return () => {\r\n      if (stream)\r\n        stream.getTracks().forEach(function (track) {\r\n          track.stop();\r\n        });\r\n    };\r\n  }, [userId]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      console.log(\"End\");\r\n      peer.disconnect();\r\n      peer.destroy();\r\n    };\r\n  }, []);\r\n\r\n  function switchVideo(val) {\r\n    setVideo(val);\r\n    stream.getVideoTracks()[0].enabled = val;\r\n  }\r\n  function switchAudio(val) {\r\n    setAudio(val);\r\n    stream.getAudioTracks()[0].enabled = val;\r\n  }\r\n  function isMobile() {\r\n    return (\r\n      navigator.userAgent.match(/Android/i) ||\r\n      navigator.userAgent.match(/webOS/i) ||\r\n      navigator.userAgent.match(/iPhone/i) ||\r\n      navigator.userAgent.match(/iPad/i) ||\r\n      navigator.userAgent.match(/iPod/i) ||\r\n      navigator.userAgent.match(/BlackBerry/i) ||\r\n      navigator.userAgent.match(/Windows Phone/i)\r\n    );\r\n  }\r\n  function callEndSubscription() {\r\n    socket.on(user._id + \"close\", (toId) => {\r\n      callEnd(false);\r\n    });\r\n  }\r\n  function callEnd(type) {\r\n    if (stream)\r\n      stream.getTracks().forEach(function (track) {\r\n        track.stop();\r\n      });\r\n    if (type) notifyUser(callId + \"close\", \"\");\r\n    history.push(\"/app/contacts\");\r\n  }\r\n  function loadMedia() {\r\n    const myVideo = document.createElement(\"video\");\r\n    myVideo.setAttribute(\r\n      \"class\",\r\n      isMobile() ? classes.videoMobile : classes.video\r\n    );\r\n    myVideo.muted = true;\r\n    navigator.mediaDevices\r\n      .getUserMedia({\r\n        video: true,\r\n        audio: true,\r\n      })\r\n      .then((stream) => {\r\n        // setControl(true);\r\n        console.log(\"Call received\");\r\n        setStream(stream);\r\n        addVideoStream(myVideo, stream);\r\n        setTimeout(() => {\r\n          var call = peer.call(callId, stream);\r\n          console.log(\"Calling to the diler {}\", call);\r\n          if (call)\r\n            call.on(\"stream\", function (destinationStream) {\r\n              console.log(\"source1 stream connected\");\r\n              if (!document.getElementById(callId)) {\r\n                console.log(\"source1 stream adding to the console\");\r\n                const myVideo = document.createElement(\"video\");\r\n                myVideo.setAttribute(\r\n                  \"class\",\r\n                  isMobile() ? classes.videoMobile : classes.video\r\n                );\r\n                myVideo.setAttribute(\"id\", callId);\r\n                addVideoStream(myVideo, destinationStream);\r\n              }\r\n            });\r\n        }, 2000);\r\n      });\r\n  }\r\n\r\n  function addVideoStream(video, stream) {\r\n    video.srcObject = stream;\r\n    video.addEventListener(\"loadedmetadata\", () => {\r\n      video.play();\r\n    });\r\n    videoGrid.append(video);\r\n  }\r\n\r\n  function notifyUser(from, to) {\r\n    fetch(config.apiEndpoint + \"/teachit/api/v1/user/\" + to + \"/\" + from, {\r\n      method: \"get\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((Response) => Response.json())\r\n      .then((response) => {\r\n        if (response) {\r\n          console.log(response);\r\n        } else {\r\n          console.log(\"unable to inser\");\r\n        }\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        <div id=\"video-grid\" className=\"\"></div>\r\n      </div>\r\n      <AppBar position=\"fixed\" color=\"primary\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <div className={classes.grow}>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => switchVideo(!video)}\r\n              edge=\"end\"\r\n              className={classes.controlBtn}\r\n            >\r\n              {video ? <VideocamIcon /> : <VideocamOffIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              edge=\"end\"\r\n              color=\"inherit\"\r\n              onClick={() => switchAudio(!audio)}\r\n              className={classes.controlBtn}\r\n            >\r\n              {audio ? <MicIcon /> : <MicOffIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => callEnd(true)}\r\n              edge=\"end\"\r\n              className={classes.callEndBtn}\r\n            >\r\n              <CallEndIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import {\r\n  Avatar,\r\n  Backdrop,\r\n  CircularProgress,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport { Call, Message, VideoCall } from \"@material-ui/icons\";\r\nimport React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getContacts } from \"../../context/UserContext\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    maxWidth: 752,\r\n  },\r\n  demo: {\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  title: {\r\n    margin: theme.spacing(4, 0, 2),\r\n  },\r\n  appBar: {\r\n    top: \"auto\",\r\n    bottom: 0,\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\nexport default function Contacts() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [dense] = React.useState(false);\r\n  const [data, setData] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [userId] = React.useState(0);\r\n  React.useEffect(() => {\r\n    getContacts(setData, setLoading);\r\n  }, [userId]);\r\n\r\n  function call(id) {\r\n    history.push(\"/app/call2/\" + id);\r\n  }\r\n  const handleClose = () => {\r\n    // setLoading(false);\r\n  };\r\n  return (\r\n    <>\r\n      <h1>Contacts</h1>\r\n      <div className={classes.demo}>\r\n        <List dense={dense}>\r\n          {data.length > 0\r\n            ? data.map(({ firstName, lastName, email, _id }) => (\r\n                <ListItem key={_id}>\r\n                  <ListItemAvatar>\r\n                    <Avatar>\r\n                      <Message />\r\n                    </Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n                    primary={firstName + \" \" + lastName}\r\n                    secondary={email}\r\n                  />\r\n                  <ListItemSecondaryAction>\r\n                    <IconButton\r\n                      edge=\"end\"\r\n                      aria-label=\"audio\"\r\n                      onClick={() => call(_id)}\r\n                    >\r\n                      <Call />\r\n                    </IconButton>\r\n                    <IconButton edge=\"end\" aria-label=\"video\">\r\n                      <VideoCall />\r\n                    </IconButton>\r\n                  </ListItemSecondaryAction>\r\n                </ListItem>\r\n              ))\r\n            : []}\r\n        </List>\r\n      </div>\r\n      <Backdrop\r\n        className={classes.backdrop}\r\n        open={loading}\r\n        onClick={handleClose}\r\n      >\r\n        <CircularProgress />\r\n      </Backdrop>\r\n    </>\r\n  );\r\n}\r\n","import { Button } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { v1 as uuid } from \"uuid\";\r\n\r\nexport default function Cource(props) {\r\n  const params = useParams();\r\n  const history = useHistory();\r\n  const classId = params.id;\r\n\r\n  function startClass() {\r\n    history.push(\"/app/class/\" + classId);\r\n  }\r\n\r\n  function joinClass() {\r\n    history.push(\"/app/class2/\" + classId);\r\n  }\r\n  function create() {\r\n    const id = uuid();\r\n    history.push(`/app/room/${id}`);\r\n  }\r\n\r\n  return (\r\n    <div style={{ width: \"100%\" }}>\r\n      <h2>Cource</h2>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          startClass();\r\n        }}\r\n      >\r\n        Start Class\r\n      </Button>\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          joinClass();\r\n        }}\r\n      >\r\n        Join Class\r\n      </Button>\r\n      <button onClick={create}>Create Room</button>\r\n    </div>\r\n  );\r\n}\r\n","import { Box, Button } from \"@material-ui/core\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    minWidth: 275,\r\n    margin: \"10px\",\r\n  },\r\n  bullet: {\r\n    display: \"inline-block\",\r\n    margin: \"0 2px\",\r\n    transform: \"scale(0.8)\",\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n});\r\n\r\nexport default function Cources() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const elements = [\r\n    \"8th Class Maths\",\r\n    \"8th Class Science\",\r\n    \"8th Class English\",\r\n    \"8th Class Telugu\",\r\n  ];\r\n\r\n  function open() {\r\n    history.push(\"/app/cource/100\");\r\n  }\r\n  return (\r\n    <div style={{ width: \"100%\" }}>\r\n      <h2>Cources</h2>\r\n      <Box display=\"flex\" flexWrap=\"wrap\" p={1} m={1}>\r\n        {elements.map((value, index) => {\r\n          return (\r\n            <Card className={classes.root} variant=\"outlined\" key={index}>\r\n              <CardContent>\r\n                <Typography variant=\"h5\" component=\"h2\">\r\n                  {value}\r\n                </Typography>\r\n                <Typography variant=\"h5\" component=\"h2\">\r\n                  ABC\r\n                </Typography>\r\n                <Typography className={classes.pos} color=\"textSecondary\">\r\n                  adjective\r\n                </Typography>\r\n                <Typography variant=\"body2\" component=\"p\">\r\n                  well meaning and kindly.\r\n                  <br />\r\n                  {'\"a benevolent smile\"'}\r\n                </Typography>\r\n              </CardContent>\r\n              <CardActions>\r\n                <Button\r\n                  onClick={() => {\r\n                    open();\r\n                  }}\r\n                >\r\n                  Click\r\n                </Button>\r\n              </CardActions>\r\n            </Card>\r\n          );\r\n        })}\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    maxWidth: \"100vw\",\r\n    overflowX: \"hidden\",\r\n  },\r\n  appBar: {\r\n    top: \"auto\",\r\n    bottom: 0,\r\n  },\r\n  grow: {\r\n    float: \"right\",\r\n    position: \"absolute\",\r\n    right: \"30px\",\r\n  },\r\n  controlBtn: {\r\n    margin: \"5px\",\r\n  },\r\n  callEndBtn: {\r\n    margin: \"5px\",\r\n    backgroundColor: \"red\",\r\n  },\r\n  // video: {\r\n  //   height: window.innerHeight - 112 + \"px\",\r\n  //   width: (window.innerWidth - 74) / 2 + \"px\",\r\n  // },\r\n\r\n  // videoMobile: {\r\n  //   height: (window.innerHeight - 112) / 2 + \"px\",\r\n  //   width: window.innerWidth + \"px\",\r\n  // },\r\n}));\r\n","import { AppBar, IconButton, Toolbar } from \"@material-ui/core\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\r\nimport ScreenShareIcon from \"@material-ui/icons/ScreenShare\";\r\nimport StopScreenShareIcon from \"@material-ui/icons/StopScreenShare\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\r\nimport Peer from \"peerjs\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport config from \"../../config\";\r\nimport { notifyUser } from \"../../context/UserContext\";\r\nimport useStyles from \"./Styles\";\r\n\r\nexport default function Listner() {\r\n  const socket = io(config.socketEndpoint);\r\n  const classes = useStyles();\r\n  const params = useParams();\r\n  const history = useHistory();\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n  const classID = params.id;\r\n  const [audio, setAudio] = useState(true);\r\n  const [video, setVideo] = useState(true);\r\n  const [screenShare, setScreenShare] = useState(true);\r\n  const [stream, setStream] = useState({});\r\n  let peer = useRef();\r\n  let videoLayout = useRef();\r\n\r\n  // onload\r\n  useEffect(() => {\r\n    initLoad();\r\n    return () => {\r\n      peer.disconnect();\r\n      peer.destroy();\r\n    };\r\n  }, []);\r\n\r\n  function initLoad() {\r\n    startPeer();\r\n    videoLayout = document.getElementById(\"video-layout\");\r\n    startSession();\r\n  }\r\n\r\n  function startSession() {\r\n    navigator.mediaDevices\r\n      .getUserMedia({\r\n        video: true,\r\n        audio: true,\r\n      })\r\n      .then((stream) => {\r\n        notifyUser(classID, user._id);\r\n        subscribe(stream);\r\n        setStream(stream);\r\n        const classVideo = createVideo(\"\");\r\n        classVideo.muted = true;\r\n        addVideoStream(classVideo, stream);\r\n        addNewUser(classID, stream);\r\n        peer.on(\"call\", function (call) {\r\n          call.answer(stream);\r\n          call.on(\"stream\", function (userStream) {\r\n            if (!document.getElementById(classID + \"dis\")) {\r\n              const studentVideo = createVideo(classID + \"dis\");\r\n              addVideoStream(studentVideo, userStream);\r\n            }\r\n          });\r\n        });\r\n      });\r\n  }\r\n\r\n  function subscribe(stream) {\r\n    socket.on(classID, (newUser) => {\r\n      debugger;\r\n      if (newUser !== user._id) addNewUser(newUser, stream);\r\n    });\r\n  }\r\n\r\n  function startPeer() {\r\n    peer = new Peer(user._id, {\r\n      port: \"443\",\r\n      secure: true,\r\n      host: config.peerEndpoint,\r\n    });\r\n  }\r\n\r\n  function addVideoStream(video, stream) {\r\n    video.srcObject = stream;\r\n    video.addEventListener(\"loadedmetadata\", () => {\r\n      video.play();\r\n    });\r\n    videoLayout.append(video);\r\n  }\r\n\r\n  function switchVideo(val) {\r\n    setVideo(val);\r\n    stream.getVideoTracks()[0].enabled = val;\r\n  }\r\n\r\n  function switchAudio(val) {\r\n    setAudio(val);\r\n    stream.getAudioTracks()[0].enabled = val;\r\n  }\r\n\r\n  function addNewUser(userId, stream) {\r\n    let call = peer.call(userId, stream);\r\n    if (call)\r\n      call.on(\"stream\", function (destinationStream) {\r\n        if (!document.getElementById(userId)) {\r\n          const userVideo = createVideo(userId);\r\n          addVideoStream(userVideo, destinationStream);\r\n        }\r\n      });\r\n  }\r\n\r\n  function startSharing(val) {\r\n    setScreenShare(val);\r\n    navigator.mediaDevices\r\n      .getDisplayMedia({\r\n        video: true,\r\n        audio: false,\r\n      })\r\n      .then((screenStream) => {\r\n        debugger;\r\n        const classVideo = createVideo(\"\");\r\n        addVideoStream(classVideo, screenStream);\r\n        var call = peer.call(classID, screenStream);\r\n        call.on(\"stream\", function (destinationStream) {\r\n          if (!document.getElementById(classID)) {\r\n            const masterVideo = createVideo(classID);\r\n            addVideoStream(masterVideo, destinationStream);\r\n          }\r\n        });\r\n      });\r\n  }\r\n  function callEnd(type) {\r\n    if (stream)\r\n      stream.getTracks().forEach(function (track) {\r\n        track.stop();\r\n      });\r\n    history.push(\"/app/contacts\");\r\n  }\r\n\r\n  function createVideo(id) {\r\n    const video = document.createElement(\"video\");\r\n    video.setAttribute(\"class\", classes.video);\r\n    video.setAttribute(\"id\", id);\r\n    return video;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div id=\"video-layout\"></div>\r\n      <AppBar position=\"fixed\" color=\"primary\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <div className={classes.grow}>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => startSharing(!screenShare)}\r\n              edge=\"end\"\r\n              className={classes.controlBtn}\r\n            >\r\n              {screenShare ? <ScreenShareIcon /> : <StopScreenShareIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => switchVideo(!video)}\r\n              edge=\"end\"\r\n              className={classes.controlBtn}\r\n            >\r\n              {video ? <VideocamIcon /> : <VideocamOffIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              edge=\"end\"\r\n              color=\"inherit\"\r\n              onClick={() => switchAudio(!audio)}\r\n              className={classes.controlBtn}\r\n            >\r\n              {audio ? <MicIcon /> : <MicOffIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => callEnd(true)}\r\n              edge=\"end\"\r\n              className={classes.callEndBtn}\r\n            >\r\n              <CallEndIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport config from \"../../config\";\r\n\r\nconst Room = (props) => {\r\n  const userVideo = useRef();\r\n  const partnerVideo = useRef();\r\n  const peerRef = useRef();\r\n  const socketRef = useRef();\r\n  const otherUser = useRef();\r\n  const userStream = useRef();\r\n\r\n  useEffect(() => {\r\n    navigator.mediaDevices\r\n      .getUserMedia({ audio: true, video: true })\r\n      .then((stream) => {\r\n        userVideo.current.srcObject = stream;\r\n        userStream.current = stream;\r\n\r\n        socketRef.current = io.connect(config.socketEndpoint);\r\n        socketRef.current.emit(\"join room\", props.match.params.roomID);\r\n\r\n        socketRef.current.on(\"other user\", (userID) => {\r\n          callUser(userID);\r\n          otherUser.current = userID;\r\n        });\r\n\r\n        socketRef.current.on(\"user joined\", (userID) => {\r\n          otherUser.current = userID;\r\n        });\r\n\r\n        socketRef.current.on(\"offer\", handleRecieveCall);\r\n\r\n        socketRef.current.on(\"answer\", handleAnswer);\r\n\r\n        socketRef.current.on(\"ice-candidate\", handleNewICECandidateMsg);\r\n      });\r\n  }, []);\r\n\r\n  function callUser(userID) {\r\n    peerRef.current = createPeer(userID);\r\n    userStream.current\r\n      .getTracks()\r\n      .forEach((track) => peerRef.current.addTrack(track, userStream.current));\r\n  }\r\n\r\n  function createPeer(userID) {\r\n    const peer = new RTCPeerConnection({\r\n      iceServers: [\r\n        {\r\n          urls: \"stun:stun.stunprotocol.org\",\r\n        },\r\n        {\r\n          urls: \"turn:numb.viagenie.ca\",\r\n          credential: \"muazkh\",\r\n          username: \"webrtc@live.com\",\r\n        },\r\n      ],\r\n    });\r\n\r\n    peer.onicecandidate = handleICECandidateEvent;\r\n    peer.ontrack = handleTrackEvent;\r\n    peer.onnegotiationneeded = () => handleNegotiationNeededEvent(userID);\r\n\r\n    return peer;\r\n  }\r\n\r\n  function handleNegotiationNeededEvent(userID) {\r\n    peerRef.current\r\n      .createOffer()\r\n      .then((offer) => {\r\n        return peerRef.current.setLocalDescription(offer);\r\n      })\r\n      .then(() => {\r\n        const payload = {\r\n          target: userID,\r\n          caller: socketRef.current.id,\r\n          sdp: peerRef.current.localDescription,\r\n        };\r\n        socketRef.current.emit(\"offer\", payload);\r\n      })\r\n      .catch((e) => console.log(e));\r\n  }\r\n\r\n  function handleRecieveCall(incoming) {\r\n    peerRef.current = createPeer();\r\n    const desc = new RTCSessionDescription(incoming.sdp);\r\n    peerRef.current\r\n      .setRemoteDescription(desc)\r\n      .then(() => {\r\n        userStream.current\r\n          .getTracks()\r\n          .forEach((track) =>\r\n            peerRef.current.addTrack(track, userStream.current)\r\n          );\r\n      })\r\n      .then(() => {\r\n        return peerRef.current.createAnswer();\r\n      })\r\n      .then((answer) => {\r\n        return peerRef.current.setLocalDescription(answer);\r\n      })\r\n      .then(() => {\r\n        const payload = {\r\n          target: incoming.caller,\r\n          caller: socketRef.current.id,\r\n          sdp: peerRef.current.localDescription,\r\n        };\r\n        socketRef.current.emit(\"answer\", payload);\r\n      });\r\n  }\r\n\r\n  function handleAnswer(message) {\r\n    const desc = new RTCSessionDescription(message.sdp);\r\n    peerRef.current.setRemoteDescription(desc).catch((e) => console.log(e));\r\n  }\r\n\r\n  function handleICECandidateEvent(e) {\r\n    if (e.candidate) {\r\n      const payload = {\r\n        target: otherUser.current,\r\n        candidate: e.candidate,\r\n      };\r\n      socketRef.current.emit(\"ice-candidate\", payload);\r\n    }\r\n  }\r\n\r\n  function handleNewICECandidateMsg(incoming) {\r\n    const candidate = new RTCIceCandidate(incoming);\r\n\r\n    peerRef.current.addIceCandidate(candidate).catch((e) => console.log(e));\r\n  }\r\n\r\n  function handleTrackEvent(e) {\r\n    partnerVideo.current.srcObject = e.streams[0];\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <video autoPlay ref={userVideo} />\r\n      <video autoPlay ref={partnerVideo} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n","import { AppBar, IconButton, Toolbar } from \"@material-ui/core\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\r\nimport ScreenShareIcon from \"@material-ui/icons/ScreenShare\";\r\nimport StopScreenShareIcon from \"@material-ui/icons/StopScreenShare\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\r\nimport Peer from \"peerjs\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport config from \"../../config\";\r\nimport useStyles from \"./Styles\";\r\n\r\nexport default function Teacher() {\r\n  const classes = useStyles();\r\n  const params = useParams();\r\n  const history = useHistory();\r\n\r\n  const classID = params.id;\r\n  const [audio, setAudio] = useState(true);\r\n  const [video, setVideo] = useState(true);\r\n  const [screenShare, setScreenShare] = useState(true);\r\n  const [stream, setStream] = useState({});\r\n  let peer = useRef();\r\n  let peerScreen = useRef();\r\n  let videoLayout = useRef();\r\n\r\n  // onload\r\n  useEffect(() => {\r\n    initLoad();\r\n    return () => {\r\n      peer.disconnect();\r\n      peer.destroy();\r\n    };\r\n  }, []);\r\n\r\n  function initLoad() {\r\n    startPeer();\r\n    videoLayout = document.getElementById(\"video-layout\");\r\n    startSession();\r\n  }\r\n\r\n  function startSession() {\r\n    navigator.mediaDevices\r\n      .getUserMedia({\r\n        video: true,\r\n        audio: true,\r\n      })\r\n      .then((stream) => {\r\n        setStream(stream);\r\n        const classVideo = createVideo(\"\");\r\n        classVideo.muted = true;\r\n        addVideoStream(classVideo, stream);\r\n        peer.on(\"call\", function (call) {\r\n          call.answer(stream);\r\n          call.on(\"stream\", function (userStream) {\r\n            if (!document.getElementById(userStream.id)) {\r\n              const studentVideo = createVideo(userStream.id);\r\n              addVideoStream(studentVideo, userStream);\r\n            }\r\n          });\r\n          call.on(\"disconnected\", function () {\r\n            console.log(\"disconnected\");\r\n          });\r\n          call.on(\"close\", function () {\r\n            console.log(\"close\");\r\n          });\r\n        });\r\n      });\r\n  }\r\n\r\n  function startPeer() {\r\n    peer = new Peer(classID, {\r\n      port: \"443\",\r\n      secure: true,\r\n      host: config.peerEndpoint,\r\n    });\r\n  }\r\n\r\n  function addVideoStream(video, stream) {\r\n    video.srcObject = stream;\r\n    video.addEventListener(\"loadedmetadata\", () => {\r\n      video.play();\r\n    });\r\n    videoLayout.append(video);\r\n  }\r\n\r\n  function switchVideo(val) {\r\n    setVideo(val);\r\n    stream.getVideoTracks()[0].enabled = val;\r\n  }\r\n\r\n  function switchAudio(val) {\r\n    setAudio(val);\r\n    stream.getAudioTracks()[0].enabled = val;\r\n  }\r\n\r\n  function startSharing(val) {\r\n    setScreenShare(val);\r\n    peerScreen = new Peer(classID + \"1\", {\r\n      port: \"443\",\r\n      secure: true,\r\n      host: config.peerEndpoint,\r\n    });\r\n    navigator.mediaDevices\r\n      .getDisplayMedia({\r\n        video: true,\r\n        audio: false,\r\n      })\r\n      .then((screenStream) => {\r\n        debugger;\r\n        let call = peerScreen.call(\"5f60b47d07f3730004d08150\", screenStream);\r\n        // peerScreen.call(\"5f674d70a436830004cabdbe\", screenStream);\r\n      });\r\n  }\r\n  function callEnd(type) {\r\n    if (stream)\r\n      stream.getTracks().forEach(function (track) {\r\n        track.stop();\r\n      });\r\n    history.push(\"/app/contacts\");\r\n  }\r\n\r\n  function createVideo(id) {\r\n    const video = document.createElement(\"video\");\r\n    video.setAttribute(\"class\", classes.video);\r\n    video.setAttribute(\"id\", id);\r\n    return video;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div id=\"video-layout\"></div>\r\n      <AppBar position=\"fixed\" color=\"primary\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <div className={classes.grow}>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => startSharing(!screenShare)}\r\n              edge=\"end\"\r\n              className={classes.controlBtn}\r\n            >\r\n              {screenShare ? <ScreenShareIcon /> : <StopScreenShareIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => switchVideo(!video)}\r\n              edge=\"end\"\r\n              className={classes.controlBtn}\r\n            >\r\n              {video ? <VideocamIcon /> : <VideocamOffIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              edge=\"end\"\r\n              color=\"inherit\"\r\n              onClick={() => switchAudio(!audio)}\r\n              className={classes.controlBtn}\r\n            >\r\n              {audio ? <MicIcon /> : <MicOffIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => callEnd(true)}\r\n              edge=\"end\"\r\n              className={classes.callEndBtn}\r\n            >\r\n              <CallEndIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    maxWidth: \"100vw\",\r\n    overflowX: \"hidden\",\r\n  },\r\n  appBar: {\r\n    top: \"auto\",\r\n    bottom: 0,\r\n  },\r\n  grow: {\r\n    float: \"right\",\r\n    position: \"absolute\",\r\n    right: \"30px\",\r\n  },\r\n  controlBtn: {\r\n    margin: \"5px\",\r\n  },\r\n  callEndBtn: {\r\n    margin: \"5px\",\r\n    backgroundColor: \"red\",\r\n  },\r\n  // video: {\r\n  //   height: window.innerHeight - 112 + \"px\",\r\n  //   width: (window.innerWidth - 74) / 2 + \"px\",\r\n  // },\r\n\r\n  // videoMobile: {\r\n  //   height: (window.innerHeight - 112) / 2 + \"px\",\r\n  //   width: window.innerWidth + \"px\",\r\n  // },\r\n}));\r\n","import { AppBar, IconButton, Toolbar } from \"@material-ui/core\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\r\nimport ScreenShareIcon from \"@material-ui/icons/ScreenShare\";\r\nimport StopScreenShareIcon from \"@material-ui/icons/StopScreenShare\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport Peer from \"simple-peer\";\r\nimport io from \"socket.io-client\";\r\nimport styled from \"styled-components\";\r\nimport config from \"../../config\";\r\nimport useStyles from \"./Styles\";\r\n\r\nconst Container = styled.div`\r\n    padding: 20px;\r\n    display: flex;\r\n    height: 100vh;\r\n    width: 90%;\r\n    margin: auto;\r\n    flex-wrap: wrap;\r\n`;\r\n\r\nconst StyledVideo = styled.video`\r\n    height: 40%;\r\n    width: 50%;\r\n`;\r\n\r\nconst Video = (props) => {\r\n    const ref = useRef();\r\n\r\n    useEffect(() => {\r\n        props.peer.on(\"stream\", stream => {\r\n            ref.current.srcObject = stream;\r\n        })\r\n    }, []);\r\n\r\n    return (\r\n        <StyledVideo playsInline autoPlay ref={ref} />\r\n    );\r\n}\r\n\r\n\r\nconst videoConstraints = {\r\n    // height: window.innerHeight / 2,\r\n    width: window.innerWidth / 2\r\n};\r\nexport default function Meeting(props) {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const classes = useStyles();\r\n    const [peers, setPeers] = useState([]);\r\n \r\n    const [audio, setAudio] = useState(true);\r\n    const [video, setVideo] = useState(true);\r\n    const [screenShare, setScreenShare] = useState(true);\r\n    const [stream, setStream] = useState({});\r\n    const socketRef = useRef();\r\n    const userVideo = useRef();\r\n    const peersRef = useRef([]);\r\n    const roomID = \"5faa67a07e77455ae4ec94ba\";\r\n\r\n    useEffect(() => {\r\n        socketRef.current = io.connect(config.socketEndpoint);\r\n        navigator.mediaDevices.getUserMedia({ video: videoConstraints, audio: true }).then(stream => {\r\n            userVideo.current.srcObject = stream;\r\n            socketRef.current.emit(\"join room\", roomID,user._id);\r\n            socketRef.current.on(\"all users\", users => {\r\n                debugger\r\n                const peers = [];\r\n                users.forEach(userID => {\r\n                    const peer = createPeer(userID.socketId, socketRef.current.id, stream);\r\n                    peersRef.current.push({\r\n                        peerID: userID.socketId,\r\n                        peer,\r\n                    })\r\n                    peers.push(peer);\r\n                })\r\n                setPeers(peers);\r\n            })\r\n\r\n            socketRef.current.on(\"user joined\", payload => {\r\n                const peer = addPeer(payload.signal, payload.callerID, stream);\r\n                peersRef.current.push({\r\n                    peerID: payload.callerID,\r\n                    peer,\r\n                })\r\n\r\n                setPeers(users => [...users, peer]);\r\n            });\r\n\r\n            socketRef.current.on(\"receiving returned signal\", payload => {\r\n                const item = peersRef.current.find(p => p.peerID === payload.id);\r\n                item.peer.signal(payload.signal);\r\n            });\r\n        })\r\n    }, []);\r\n\r\n    function switchVideo(val) {\r\n        setVideo(val);\r\n        userVideo.current.srcObject.getVideoTracks()[0].enabled = val;\r\n      }\r\n    \r\n      function switchAudio(val) {\r\n        setAudio(val);\r\n        userVideo.current.srcObject.getAudioTracks()[0].enabled = val;\r\n      }\r\n    \r\n      function startSharing(val) {\r\n        setScreenShare(val);\r\n        navigator.mediaDevices\r\n          .getDisplayMedia({\r\n            video: true,\r\n            audio: false,\r\n          })\r\n          .then((screenStream) => {\r\n            debugger;\r\n            // let call = peerScreen.call(\"5f60b47d07f3730004d08150\", screenStream);\r\n            // peerScreen.call(\"5f674d70a436830004cabdbe\", screenStream);\r\n          });\r\n      }\r\n      \r\n    function createPeer(userToSignal, callerID, stream) {\r\n        const peer = new Peer({\r\n            initiator: true,\r\n            trickle: false,\r\n            stream,\r\n        });\r\n\r\n        peer.on(\"signal\", signal => {\r\n            socketRef.current.emit(\"sending signal\", { userToSignal, callerID, signal })\r\n        })\r\n\r\n        return peer;\r\n    }\r\n\r\n    function addPeer(incomingSignal, callerID, stream) {\r\n        const peer = new Peer({\r\n            initiator: false,\r\n            trickle: false,\r\n            stream,\r\n        })\r\n\r\n        peer.on(\"signal\", signal => {\r\n            socketRef.current.emit(\"returning signal\", { signal, callerID })\r\n        })\r\n\r\n        peer.signal(incomingSignal);\r\n\r\n        return peer;\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <StyledVideo muted ref={userVideo} autoPlay playsInline />\r\n            {peers.map((peer, index) => {\r\n                return (\r\n                    <Video key={index} peer={peer} />\r\n                );\r\n            })}\r\n            <AppBar position=\"fixed\" color=\"primary\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <div className={classes.grow}>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => startSharing(!screenShare)}\r\n              edge=\"end\"\r\n              className={classes.controlBtn}\r\n            >\r\n              {screenShare ? <ScreenShareIcon /> : <StopScreenShareIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              color=\"inherit\"\r\n              onClick={() => switchVideo(!video)}\r\n              edge=\"end\"\r\n              className={classes.controlBtn}\r\n            >\r\n              {video ? <VideocamIcon /> : <VideocamOffIcon />}\r\n            </IconButton>\r\n            <IconButton\r\n              edge=\"end\"\r\n              color=\"inherit\"\r\n              onClick={() => switchAudio(!audio)}\r\n              className={classes.controlBtn}\r\n            >\r\n              {audio ? <MicIcon /> : <MicOffIcon />}\r\n            </IconButton>\r\n            \r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n        </Container>\r\n    );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Messages() {\r\n  return (\r\n    <>\r\n      <h1>Messages</h1>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nvar LayoutStateContext = React.createContext();\r\nvar LayoutDispatchContext = React.createContext();\r\n\r\nfunction layoutReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"TOGGLE_SIDEBAR\":\r\n      return { ...state, isSidebarOpened: !state.isSidebarOpened };\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n  }\r\n}\r\n\r\nfunction LayoutProvider({ children }) {\r\n  var [state, dispatch] = React.useReducer(layoutReducer, {\r\n    isSidebarOpened: false,\r\n  });\r\n  return (\r\n    <LayoutStateContext.Provider value={state}>\r\n      <LayoutDispatchContext.Provider value={dispatch}>\r\n        {children}\r\n      </LayoutDispatchContext.Provider>\r\n    </LayoutStateContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useLayoutState() {\r\n  var context = React.useContext(LayoutStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useLayoutState must be used within a LayoutProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nfunction useLayoutDispatch() {\r\n  var context = React.useContext(LayoutDispatchContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useLayoutDispatch must be used within a LayoutProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nexport { LayoutProvider, useLayoutState, useLayoutDispatch, toggleSidebar };\r\n\r\n// ###########################################################\r\nfunction toggleSidebar(dispatch) {\r\n  dispatch({\r\n    type: \"TOGGLE_SIDEBAR\",\r\n  });\r\n}\r\n","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  logotype: {\r\n    color: \"white\",\r\n    marginLeft: theme.spacing(2.5),\r\n    marginRight: theme.spacing(2.5),\r\n    fontWeight: 500,\r\n    fontSize: 18,\r\n    whiteSpace: \"nowrap\",\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  appBar: {\r\n    width: \"100vw\",\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  toolbar: {\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  headerMenuButton: {\r\n    marginLeft: theme.spacing(2),\r\n    padding: theme.spacing(0.5),\r\n  },\r\n  headerMenuButtonCollapse: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  headerIcon: {\r\n    fontSize: 28,\r\n    color: \"rgba(255, 255, 255, 0.35)\",\r\n  },\r\n  headerIconCollapse: {\r\n    color: \"white\",\r\n  },\r\n}));\r\n","import { AppBar, IconButton, Toolbar, Typography } from \"@material-ui/core\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {\r\n  ArrowBack as ArrowBackIcon,\r\n  Menu as MenuIcon,\r\n} from \"@material-ui/icons\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport classNames from \"classnames\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// context\r\nimport {\r\n  toggleSidebar,\r\n  useLayoutDispatch,\r\n  useLayoutState,\r\n} from \"../../context/LayoutContext\";\r\nimport { signOut, useUserDispatch } from \"../../context/UserContext\";\r\n// styles\r\nimport useStyles from \"./styles\";\r\n\r\nexport default function Header(props) {\r\n  var classes = useStyles();\r\n  var dispatch = useUserDispatch();\r\n  const history = useHistory();\r\n\r\n  // global\r\n  var layoutState = useLayoutState();\r\n  var layoutDispatch = useLayoutDispatch();\r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleChange = (event) => {\r\n    setAuth(event.target.checked);\r\n  };\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const logOut = () => {\r\n    signOut(dispatch, history);\r\n  };\r\n\r\n  // local\r\n  var [isSearchOpen, setSearchOpen] = useState(false);\r\n\r\n  return (\r\n    <AppBar position=\"fixed\" className={classes.appBar}>\r\n      <Toolbar className={classes.toolbar} variant=\"dense\">\r\n        <IconButton\r\n          color=\"inherit\"\r\n          onClick={() => toggleSidebar(layoutDispatch)}\r\n          className={classNames(\r\n            classes.headerMenuButton,\r\n            classes.headerMenuButtonCollapse\r\n          )}\r\n        >\r\n          {layoutState.isSidebarOpened ? (\r\n            <ArrowBackIcon\r\n              classes={{\r\n                root: classNames(\r\n                  classes.headerIcon,\r\n                  classes.headerIconCollapse\r\n                ),\r\n              }}\r\n            />\r\n          ) : (\r\n            <MenuIcon\r\n              classes={{\r\n                root: classNames(\r\n                  classes.headerIcon,\r\n                  classes.headerIconCollapse\r\n                ),\r\n              }}\r\n            />\r\n          )}\r\n        </IconButton>\r\n        <Typography className={classes.title} variant=\"h6\" noWrap>\r\n          TeachIT\r\n        </Typography>\r\n\r\n        <div>\r\n          <IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"menu-appbar\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleMenu}\r\n            color=\"inherit\"\r\n          >\r\n            <AccountCircle />\r\n          </IconButton>\r\n          <Menu\r\n            id=\"menu-appbar\"\r\n            anchorEl={anchorEl}\r\n            anchorOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"right\",\r\n            }}\r\n            keepMounted\r\n            transformOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"right\",\r\n            }}\r\n            open={open}\r\n            onClose={handleClose}\r\n          >\r\n            <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n            <MenuItem onClick={handleClose}>My account</MenuItem>\r\n            <MenuItem onClick={logOut}>Sign Out</MenuItem>\r\n          </Menu>\r\n        </div>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nexport default makeStyles((theme) => ({\r\n  menuButton: {\r\n    marginLeft: 12,\r\n    marginRight: 36,\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerClose: {\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflowX: \"hidden\",\r\n    width: theme.spacing(7) + 0,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: drawerWidth,\r\n    },\r\n  },\r\n  toolbar: {\r\n    ...theme.mixins.toolbar,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n  },\r\n  /* sidebarList: {\r\n    marginTop: theme.spacing(6),\r\n  }, */\r\n  mobileBackButton: {\r\n    marginTop: theme.spacing(0.5),\r\n    marginLeft: theme.spacing(3),\r\n    [theme.breakpoints.only(\"sm\")]: {\r\n      marginTop: theme.spacing(0.625),\r\n    },\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\n","import {\r\n  Collapse,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Inbox as InboxIcon } from \"@material-ui/icons\";\r\nimport classnames from \"classnames\";\r\nimport React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n// styles\r\nimport useStyles from \"./styles\";\r\n\r\nexport default function SidebarLink({\r\n  link,\r\n  icon,\r\n  label,\r\n  children,\r\n  location,\r\n  isSidebarOpened,\r\n  nested,\r\n  type,\r\n}) {\r\n  var classes = useStyles();\r\n\r\n  // local\r\n  var [isOpen, setIsOpen] = useState(false);\r\n  var isLinkActive =\r\n    link &&\r\n    (location.pathname === link || location.pathname.indexOf(link) !== -1);\r\n\r\n  if (type === \"title\")\r\n    return (\r\n      <Typography\r\n        className={classnames(classes.linkText, classes.sectionTitle, {\r\n          [classes.linkTextHidden]: !isSidebarOpened,\r\n        })}\r\n      >\r\n        {label}\r\n      </Typography>\r\n    );\r\n\r\n  if (type === \"divider\") return <Divider className={classes.divider} />;\r\n\r\n  if (!children)\r\n    return (\r\n      <ListItem\r\n        button\r\n        component={link && Link}\r\n        to={link}\r\n        className={classes.link}\r\n        classes={{\r\n          root: classnames(classes.linkRoot, {\r\n            [classes.linkActive]: isLinkActive && !nested,\r\n            [classes.linkNested]: nested,\r\n          }),\r\n        }}\r\n        disableRipple\r\n      >\r\n        <ListItemIcon\r\n          className={classnames(classes.linkIcon, {\r\n            [classes.linkIconActive]: isLinkActive,\r\n          })}\r\n        >\r\n          {nested ? icon : icon}\r\n        </ListItemIcon>\r\n        <ListItemText\r\n          classes={{\r\n            primary: classnames(classes.linkText, {\r\n              [classes.linkTextActive]: isLinkActive,\r\n              [classes.linkTextHidden]: !isSidebarOpened,\r\n            }),\r\n          }}\r\n          primary={label}\r\n        />\r\n      </ListItem>\r\n    );\r\n\r\n  return (\r\n    <>\r\n      <ListItem\r\n        button\r\n        component={link && Link}\r\n        onClick={toggleCollapse}\r\n        className={classes.link}\r\n        to={link}\r\n        disableRipple\r\n      >\r\n        <ListItemIcon\r\n          className={classnames(classes.linkIcon, {\r\n            [classes.linkIconActive]: isLinkActive,\r\n          })}\r\n        >\r\n          {icon ? icon : <InboxIcon />}\r\n        </ListItemIcon>\r\n        <ListItemText\r\n          classes={{\r\n            primary: classnames(classes.linkText, {\r\n              [classes.linkTextActive]: isLinkActive,\r\n              [classes.linkTextHidden]: !isSidebarOpened,\r\n            }),\r\n          }}\r\n          primary={label}\r\n        />\r\n      </ListItem>\r\n      {children && (\r\n        <Collapse\r\n          in={isOpen && isSidebarOpened}\r\n          timeout=\"auto\"\r\n          unmountOnExit\r\n          className={classes.nestedList}\r\n        >\r\n          <List component=\"div\" disablePadding>\r\n            {children.map((childrenLink) => (\r\n              <SidebarLink\r\n                key={childrenLink && childrenLink.link}\r\n                location={location}\r\n                isSidebarOpened={isSidebarOpened}\r\n                classes={classes}\r\n                nested\r\n                {...childrenLink}\r\n              />\r\n            ))}\r\n          </List>\r\n        </Collapse>\r\n      )}\r\n    </>\r\n  );\r\n\r\n  // ###########################################################\r\n\r\n  function toggleCollapse(e) {\r\n    if (isSidebarOpened) {\r\n      e.preventDefault();\r\n      setIsOpen(!isOpen);\r\n    }\r\n  }\r\n}\r\n","import { Drawer, IconButton, List } from \"@material-ui/core\";\r\nimport {\r\n  ArrowBack as ArrowBackIcon,\r\n  Call,\r\n  Contacts,\r\n  MenuBook,\r\n  Message\r\n} from \"@material-ui/icons\";\r\nimport MeetingRoomIcon from '@material-ui/icons/MeetingRoom';\r\nimport { useTheme } from \"@material-ui/styles\";\r\nimport classNames from \"classnames\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// context\r\nimport {\r\n  toggleSidebar,\r\n  useLayoutDispatch,\r\n  useLayoutState\r\n} from \"../../context/LayoutContext\";\r\n// components\r\nimport SidebarLink from \"./SidebarLink\";\r\n// styles\r\nimport useStyles from \"./styles\";\r\n\r\nconst structure = [\r\n  { id: 1, label: \"Calls\", link: \"/app/calls\", icon: <Call /> },\r\n  { id: 2, label: \"Messages\", link: \"/app/messages\", icon: <Message /> },\r\n  { id: 3, label: \"Contacts\", link: \"/app/contacts\", icon: <Contacts /> },\r\n  { id: 4, label: \"Cources\", link: \"/app/cources\", icon: <MenuBook /> },\r\n  { id: 5, label: \"Meeting\", link: \"/app/meeting\", icon: <MeetingRoomIcon /> },\r\n];\r\n\r\nfunction Sidebar({ location }) {\r\n  var classes = useStyles();\r\n  var theme = useTheme();\r\n\r\n  // global\r\n  var { isSidebarOpened } = useLayoutState();\r\n  var layoutDispatch = useLayoutDispatch();\r\n\r\n  // local\r\n  var [isPermanent, setPermanent] = useState(true);\r\n\r\n  useEffect(function () {\r\n    window.addEventListener(\"resize\", handleWindowWidthChange);\r\n    handleWindowWidthChange();\r\n    return function cleanup() {\r\n      window.removeEventListener(\"resize\", handleWindowWidthChange);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <Drawer\r\n      variant={isPermanent ? \"permanent\" : \"temporary\"}\r\n      className={classNames(classes.drawer, {\r\n        [classes.drawerOpen]: isSidebarOpened,\r\n        [classes.drawerClose]: !isSidebarOpened,\r\n      })}\r\n      classes={{\r\n        paper: classNames({\r\n          [classes.drawerOpen]: isSidebarOpened,\r\n          [classes.drawerClose]: !isSidebarOpened,\r\n        }),\r\n      }}\r\n      open={isSidebarOpened}\r\n    >\r\n      <div className={classes.toolbar} />\r\n      <div className={classes.mobileBackButton}>\r\n        <IconButton onClick={() => toggleSidebar(layoutDispatch)}>\r\n          <ArrowBackIcon\r\n            classes={{\r\n              root: classNames(classes.headerIcon, classes.headerIconCollapse),\r\n            }}\r\n          />\r\n        </IconButton>\r\n      </div>\r\n      <List className={classes.sidebarList}>\r\n        {structure.map((link) => (\r\n          <SidebarLink\r\n            key={link.id}\r\n            location={location}\r\n            isSidebarOpened={isSidebarOpened}\r\n            {...link}\r\n          />\r\n        ))}\r\n      </List>\r\n    </Drawer>\r\n  );\r\n\r\n  // ##################################################################\r\n  function handleWindowWidthChange() {\r\n    var windowWidth = window.innerWidth;\r\n    var breakpointWidth = theme.breakpoints.values.md;\r\n    var isSmallScreen = windowWidth < breakpointWidth;\r\n\r\n    if (isSmallScreen && isPermanent) {\r\n      setPermanent(false);\r\n    } else if (!isSmallScreen && !isPermanent) {\r\n      setPermanent(true);\r\n    }\r\n  }\r\n}\r\n\r\nexport default withRouter(Sidebar);\r\n","import { IconButton } from \"@material-ui/core\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CallIcon from \"@material-ui/icons/Call\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getUserById } from \"../../context/UserContext\";\r\n\r\nfunction rand() {\r\n  return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nfunction getModalStyle() {\r\n  const top = 50 + rand();\r\n  const left = 50 + rand();\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    position: \"absolute\",\r\n    width: 400,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[9],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n  callEnd: {\r\n    backgroundColor: \"#eb0905\",\r\n    color: \"#fff\",\r\n    marginLeft: \"50px\",\r\n  },\r\n  callAnswer: {\r\n    backgroundColor: \"#237301\",\r\n    color: \"#fff\",\r\n    float: \"right\",\r\n    marginRight: \"50px\",\r\n  },\r\n  callImg: {\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n    backgroundColor: \"#040e46\",\r\n    width: \"100px\",\r\n    height: \"100px\",\r\n    borderRadius: \"50px\",\r\n    margin: \"0 auto\",\r\n    color: \"#ffffff\",\r\n  },\r\n  callText: { position: \"relative\", top: \"30%\", fontSize: \"xx-large\" },\r\n  callName: {\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\n\r\nexport default function CallModal({ callId, setOpen, open, toggle }) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [modalStyle] = useState(getModalStyle);\r\n  const [user, setUser] = useState();\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  useEffect(() => {\r\n    if (callId && callId.status) getUserById(callId.status, setUser);\r\n    return () => {};\r\n  }, [callId]);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  function callEnd() {\r\n    setOpen(false);\r\n    toggle();\r\n  }\r\n  function answer() {\r\n    setOpen(false);\r\n    toggle();\r\n    history.push(\"/app/call/\" + callId.status);\r\n  }\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <div className={classes.callImg}>\r\n        <span className={classes.callText}>\r\n          {\" \"}\r\n          {user\r\n            ? user.firstName.slice(0, 1).toUpperCase() +\r\n              user.lastName.slice(0, 1).toUpperCase()\r\n            : \"\"}\r\n        </span>\r\n      </div>\r\n      <div className={classes.callName}>\r\n        <h2 id=\"simple-modal-title\">\r\n          {user ? user.firstName + \" \" + user.lastName : \"\"}\r\n        </h2>\r\n        <p>Is calling...</p>\r\n      </div>\r\n      <IconButton\r\n        edge=\"end\"\r\n        aria-label=\"end\"\r\n        className={classes.callEnd}\r\n        onClick={() => callEnd()}\r\n      >\r\n        <CallEndIcon />\r\n      </IconButton>\r\n      <IconButton\r\n        edge=\"end\"\r\n        aria-label=\"answer\"\r\n        className={classes.callAnswer}\r\n        onClick={() => answer()}\r\n      >\r\n        <CallIcon />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    maxWidth: \"100vw\",\r\n    overflowX: \"hidden\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    // padding: theme.spacing(3),\r\n    width: `calc(100vw - 240px)`,\r\n    margin: \"48px 0px 64px 0px\",\r\n  },\r\n  contentShift: {\r\n    width: `calc(100vw - ${240 + theme.spacing(6)}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  fakeToolbar: {\r\n    ...theme.mixins.toolbar,\r\n  },\r\n}));\r\n","import classnames from \"classnames\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Route, Switch, withRouter } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\n// context\r\nimport { useLayoutState } from \"../../context/LayoutContext\";\r\nimport Calls from \"../../pages/calls/Calls\";\r\nimport DailCall from \"../../pages/calls/DailCall\";\r\nimport ReceiveCall from \"../../pages/calls/ReceiveCall\";\r\nimport Contacts from \"../../pages/contacts/Contacts\";\r\nimport Cource from \"../../pages/cources/Cource\";\r\nimport Cources from \"../../pages/cources/Cources\";\r\nimport Listner from \"../../pages/cources/Listner\";\r\nimport Room from \"../../pages/cources/Room\";\r\nimport Teacher from \"../../pages/cources/Teacher\";\r\nimport Meeting from \"../../pages/meeting/Meeting\";\r\nimport Messages from \"../../pages/messages/Messages\";\r\n// components\r\nimport Header from \"../header/Header\";\r\nimport Sidebar from \"../sidebar/Sidebar\";\r\nimport CallModal from \"./CallModal\";\r\n// styles\r\nimport useStyles from \"./styles\";\r\nconst ENDPOINT = \"https://teachit-api.herokuapp.com\";\r\n\r\nconst useAudio = (url) => {\r\n  const [audio] = useState(new Audio(url));\r\n  const [playing, setPlaying] = useState(false);\r\n\r\n  const toggle = () => setPlaying(!playing);\r\n\r\n  useEffect(() => {\r\n    audio.loop = true;\r\n    playing ? audio.play() : audio.pause();\r\n  }, [playing]);\r\n\r\n  useEffect(() => {\r\n    audio.addEventListener(\"ended\", () => {\r\n      setPlaying(true);\r\n    });\r\n    return () => {\r\n      audio.removeEventListener(\"ended\", () => setPlaying(false));\r\n    };\r\n  }, []);\r\n\r\n  return [playing, toggle];\r\n};\r\n\r\nconst style = {\r\n  height: window.innerHeight - 112 + \"px\",\r\n};\r\nfunction Layout(props) {\r\n  const [playing, toggle] = useAudio(\"telephone_ring.mp3\");\r\n  const socket = io(ENDPOINT);\r\n  var classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [callId, setCallId] = React.useState();\r\n  const [userId, setUserID] = React.useState(10);\r\n  React.useEffect(() => {\r\n    let user = JSON.parse(localStorage.getItem(\"user\"));\r\n    socket.on(user._id, (toId) => {\r\n      console.log(open);\r\n      setOpen(true);\r\n      console.log(open);\r\n      toggle();\r\n      setCallId(toId);\r\n    });\r\n  }, [userId]);\r\n  // global\r\n  var layoutState = useLayoutState();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <>\r\n        <Header history={props.history} />\r\n        <Sidebar />\r\n        <div\r\n          className={classnames(classes.content, {\r\n            [classes.contentShift]: layoutState.isSidebarOpened,\r\n          })}\r\n        >\r\n          <div style={style}>\r\n            {/* <div className={classes.fakeToolbar} /> */}\r\n            <Switch>\r\n              <Route path=\"/app/calls\" component={Calls} />\r\n              <Route path=\"/app/call/:id\" component={ReceiveCall} />\r\n              <Route path=\"/app/call2/:id\" component={DailCall} />\r\n              <Route path=\"/app/messages\" component={Messages} />\r\n              <Route path=\"/app/contacts\" component={Contacts} />\r\n              <Route path=\"/app/cources\" component={Cources} />\r\n              <Route path=\"/app/cource/:id\" component={Cource} />\r\n              <Route path=\"/app/class/:id\" component={Teacher} />\r\n              <Route path=\"/app/class2/:id\" component={Listner} />\r\n              <Route path=\"/app/room/:roomID\" component={Room} />\r\n              <Route path=\"/app/meeting\" component={Meeting} />\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n        {open ? (\r\n          <CallModal\r\n            callId={callId}\r\n            setOpen={setOpen}\r\n            open={open}\r\n            toggle={toggle}\r\n          />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Layout);\r\n","import { Backdrop, CircularProgress } from \"@material-ui/core\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { loginUser, useUserDispatch } from \"../context/UserContext\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright  \"}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\nexport default function SignIn() {\r\n  const classes = useStyles();\r\n  var userDispatch = useUserDispatch();\r\n  const history = useHistory();\r\n\r\n  var [isLoading, setIsLoading] = useState(false);\r\n  var [error, setError] = useState(null);\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  function login() {\r\n    loginUser(\r\n      userDispatch,\r\n      values.email,\r\n      values.password,\r\n      history,\r\n      setIsLoading,\r\n      setError\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            onChange={handleInputChange}\r\n            value={values.email}\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            onChange={handleInputChange}\r\n            value={values.password}\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={login}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link href=\"#/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n      {error}\r\n      <Backdrop className={classes.backdrop} open={isLoading}>\r\n        <CircularProgress />\r\n      </Backdrop>\r\n    </Container>\r\n  );\r\n}\r\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright  \"}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [values, setValues] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  function save(event) {\r\n    event.preventDefault();\r\n    fetch(\"https://teachit-api.herokuapp.com/teachit/api/v1/user\", {\r\n      method: \"post\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(values),\r\n    })\r\n      .then((Response) => Response.json())\r\n      .then((response) => {\r\n        if (response.user) history.push(\"/app\");\r\n        else alert(\"Sorrrrrry !!!! Un-authenticated User !!!!!\");\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                onChange={handleInputChange}\r\n                value={values.firstName}\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                onChange={handleInputChange}\r\n                value={values.lastName}\r\n                autoComplete=\"lname\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                onChange={handleInputChange}\r\n                value={values.email}\r\n                autoComplete=\"email\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                onChange={handleInputChange}\r\n                value={values.password}\r\n                autoComplete=\"current-password\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <FormControlLabel\r\n                control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\r\n                label=\"I want to receive inspiration, marketing promotions and updates via email.\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={save}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link href=\"#/login\" variant=\"body2\">\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { useUserState } from \"../context/UserContext\";\r\nimport Calls from \"../pages/calls/Calls\";\r\nimport DailCall from \"../pages/calls/DailCall\";\r\nimport ReceiveCall from \"../pages/calls/ReceiveCall\";\r\nimport Contacts from \"../pages/contacts/Contacts\";\r\nimport Cource from \"../pages/cources/Cource\";\r\nimport Cources from \"../pages/cources/Cources\";\r\nimport Listner from \"../pages/cources/Listner\";\r\nimport Room from \"../pages/cources/Room\";\r\nimport Teacher from \"../pages/cources/Teacher\";\r\nimport Meeting from \"../pages/meeting/Meeting\";\r\nimport Messages from \"../pages/messages/Messages\";\r\n// components\r\nimport Layout from \"./layout/Layout\";\r\n// pages\r\nimport Login from \"./Login\";\r\nimport SignUp from \"./Signup\";\r\n\r\nexport default function App() {\r\n  // global\r\n  var { isAuthenticated } = useUserState();\r\n  // var isAuthenticated = false;\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\" render={() => <Redirect to=\"/app/contacts\" />} />\r\n        <Route\r\n          exact\r\n          path=\"/app\"\r\n          render={() => <Redirect to=\"/app/contacts\" />}\r\n        />\r\n        <PrivateRoute path=\"/app\" component={Layout} />\r\n        <PrivateRoute path=\"/app/calls\" component={Calls} />\r\n        <PrivateRoute path=\"/app/call/:id\" component={ReceiveCall} />\r\n        <PrivateRoute path=\"/app/call2/:id\" component={DailCall} />\r\n        <PrivateRoute path=\"/app/messages\" component={Messages} />\r\n        <PrivateRoute path=\"/app/contacts\" component={Contacts} />\r\n        <PrivateRoute path=\"/app/cources\" component={Cources} />\r\n        <PrivateRoute path=\"/app/cources/:id\" component={Cource} />\r\n        <PrivateRoute path=\"/app/class/:id\" component={Teacher} />\r\n        <PrivateRoute path=\"/app/class2/:id\" component={Listner} />\r\n        <PrivateRoute path=\"/app/room/:roomID\" component={Room} />\r\n        <PrivateRoute path=\"/app/meeting\" component={Meeting} />\r\n        <PublicRoute path=\"/login\" component={Login} />\r\n        <PublicRoute path=\"/signup\" component={SignUp} />\r\n        <Route component={Error} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n\r\n  function PrivateRoute({ component, ...rest }) {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={(props) =>\r\n          isAuthenticated ? (\r\n            React.createElement(component, props)\r\n          ) : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/login\",\r\n                state: {\r\n                  from: props.location,\r\n                },\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  function PublicRoute({ component, ...rest }) {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={(props) =>\r\n          isAuthenticated ? (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/\",\r\n              }}\r\n            />\r\n          ) : (\r\n            React.createElement(component, props)\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import tinycolor from \"tinycolor2\";\r\n\r\nconst primary = \"#536DFE\";\r\nconst secondary = \"#FF5C93\";\r\nconst warning = \"#FFC260\";\r\nconst success = \"#3CD4A0\";\r\nconst info = \"#9013FE\";\r\n\r\nconst lightenRate = 7.5;\r\nconst darkenRate = 15;\r\n\r\nexport default {\r\n  palette: {\r\n    primary: {\r\n      main: \"#040e46\",\r\n      light: tinycolor(primary).lighten(lightenRate).toHexString(),\r\n      dark: tinycolor(primary).darken(darkenRate).toHexString(),\r\n    },\r\n    secondary: {\r\n      main: secondary,\r\n      light: tinycolor(secondary).lighten(lightenRate).toHexString(),\r\n      dark: tinycolor(secondary).darken(darkenRate).toHexString(),\r\n      contrastText: \"#FFFFFF\",\r\n    },\r\n    warning: {\r\n      main: warning,\r\n      light: tinycolor(warning).lighten(lightenRate).toHexString(),\r\n      dark: tinycolor(warning).darken(darkenRate).toHexString(),\r\n    },\r\n    success: {\r\n      main: success,\r\n      light: tinycolor(success).lighten(lightenRate).toHexString(),\r\n      dark: tinycolor(success).darken(darkenRate).toHexString(),\r\n    },\r\n    info: {\r\n      main: info,\r\n      light: tinycolor(info).lighten(lightenRate).toHexString(),\r\n      dark: tinycolor(info).darken(darkenRate).toHexString(),\r\n    },\r\n    text: {\r\n      primary: \"#4A4A4A\",\r\n      secondary: \"#6E6E6E\",\r\n      hint: \"#B9B9B9\",\r\n    },\r\n    background: {\r\n      default: \"#F6F7FF\",\r\n      light: \"#F3F5FF\",\r\n    },\r\n  },\r\n  customShadows: {\r\n    widget:\r\n      \"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n    widgetDark:\r\n      \"0px 3px 18px 0px #4558A3B3, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n    widgetWide:\r\n      \"0px 12px 33px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n  },\r\n  overrides: {\r\n    MuiBackdrop: {\r\n      root: {\r\n        backgroundColor: \"#4A4A4A1A\",\r\n      },\r\n    },\r\n    MuiMenu: {\r\n      paper: {\r\n        boxShadow:\r\n          \"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A\",\r\n      },\r\n    },\r\n    MuiSelect: {\r\n      icon: {\r\n        color: \"#B9B9B9\",\r\n      },\r\n    },\r\n    MuiListItem: {\r\n      root: {\r\n        \"&$selected\": {\r\n          backgroundColor: \"#F3F5FF !important\",\r\n          \"&:focus\": {\r\n            backgroundColor: \"#F3F5FF\",\r\n          },\r\n        },\r\n      },\r\n      button: {\r\n        \"&:hover, &:focus\": {\r\n          backgroundColor: \"#F3F5FF\",\r\n        },\r\n      },\r\n    },\r\n    MuiTouchRipple: {\r\n      child: {\r\n        backgroundColor: \"white\",\r\n      },\r\n    },\r\n    MuiTableRow: {\r\n      root: {\r\n        height: 56,\r\n      },\r\n    },\r\n    MuiTableCell: {\r\n      root: {\r\n        borderBottom: \"1px solid rgba(224, 224, 224, .5)\",\r\n      },\r\n      head: {\r\n        fontSize: \"0.95rem\",\r\n      },\r\n      body: {\r\n        fontSize: \"0.95rem\",\r\n      },\r\n    },\r\n  },\r\n};\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\nimport defaultTheme from \"./default\";\r\n\r\nconst overrides = {\r\n  typography: {\r\n    h1: {\r\n      fontSize: \"3rem\",\r\n    },\r\n    h2: {\r\n      fontSize: \"2rem\",\r\n    },\r\n    h3: {\r\n      fontSize: \"1.64rem\",\r\n    },\r\n    h4: {\r\n      fontSize: \"1.5rem\",\r\n    },\r\n    h5: {\r\n      fontSize: \"1.285rem\",\r\n    },\r\n    h6: {\r\n      fontSize: \"1.142rem\",\r\n    },\r\n  },\r\n};\r\n\r\nexport default {\r\n  default: createMuiTheme({ ...defaultTheme, ...overrides }),\r\n};\r\n","import { CssBaseline } from \"@material-ui/core\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport { LayoutProvider } from \"./context/LayoutContext\";\nimport { UserProvider } from \"./context/UserContext\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport Themes from \"./themes\";\n\nReactDOM.render(\n  <LayoutProvider>\n    <UserProvider>\n      <ThemeProvider theme={Themes.default}>\n        <CssBaseline />\n        <App />\n      </ThemeProvider>\n    </UserProvider>\n  </LayoutProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}